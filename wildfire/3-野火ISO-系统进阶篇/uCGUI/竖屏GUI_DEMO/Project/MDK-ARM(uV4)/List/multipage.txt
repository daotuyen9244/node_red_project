; generated by ARM C/C++ Compiler, 5.03 [Build 76]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o.\obj\multipage.o --asm_dir=.\List\ --list_dir=.\List\ --depend=.\obj\multipage.d --cpu=Cortex-M3 --apcs=interwork -O0 -I..\..\Libraries\CMSIS\CM3\CoreSupport -I..\..\Libraries\CMSIS\CM3\DeviceSupport\ST\STM32F10x -I..\..\Libraries\STM32F10x_StdPeriph_Driver\inc -I..\..\uCOS-II\Source -I..\..\uCOS-II\Ports\ARM-Cortex-M3\Generic\RealView -I..\..\User\app -I..\..\User\bsp -I..\..\uCGUI\inc -I..\..\uCGUI\Config -I..\..\uCGUI\LCDDriver -I..\..\uCGUI\uCGUIDemo -I..\..\User\fatfs -I..\..\User\mp3\pub -I..\..\User\Memory -Id:\Keil\ARM\RV31\INC -Id:\Keil\ARM\CMSIS\Include -Id:\Keil\ARM\Inc\ST\STM32F10x -D__MICROLIB -DSTM32F10X_HD -DUSE_STDPERIPH_DRIVER ..\..\uCGUI\Widget\MULTIPAGE.c]
                          THUMB

                          AREA ||i.MULTIPAGE_AddPage||, CODE, READONLY, ALIGN=1

                  MULTIPAGE_AddPage PROC
;;;701    */
;;;702    void MULTIPAGE_AddPage(MULTIPAGE_Handle hObj, WM_HWIN hWin ,const char* pText) {
000000  e92d5ffc          PUSH     {r2-r12,lr}
000004  4683              MOV      r11,r0
000006  460d              MOV      r5,r1
000008  4616              MOV      r6,r2
;;;703      MULTIPAGE_Obj* pObj;
;;;704      GUI_USE_PARA(hWin);
00000a  bf00              NOP      
;;;705      if (hObj) {
00000c  f1bb0f00          CMP      r11,#0
000010  d065              BEQ      |L1.222|
;;;706        WM_LOCK();
000012  f7fffffe          BL       GUI_Lock
;;;707        pObj = MULTIPAGE_H2P(hObj);
000016  4658              MOV      r0,r11
000018  f7fffffe          BL       GUI_ALLOC_h2p
00001c  4604              MOV      r4,r0
;;;708        if (!hWin) {
00001e  bb45              CBNZ     r5,|L1.114|
;;;709          /* If we get no handle we must find it. To do this, we search      */
;;;710          /* all children until we found one that has not yet become a page. */
;;;711          MULTIPAGE_PAGE* pPage;
;;;712          WM_HWIN hChild;
;;;713          WM_Obj* pChild;
;;;714          WM_Obj* pClient = WM_H2P(pObj->hClient);
000020  f9b40028          LDRSH    r0,[r4,#0x28]
000024  f7fffffe          BL       GUI_ALLOC_h2p
000028  9001              STR      r0,[sp,#4]
;;;715          int i;
;;;716          for (hChild = pClient->hFirstChild; hChild && !hWin; hChild = pChild->hNext) {
00002a  9801              LDR      r0,[sp,#4]
00002c  f9b07018          LDRSH    r7,[r0,#0x18]
000030  e01b              B        |L1.106|
                  |L1.50|
;;;717            pChild = WM_H2P(hChild);
000032  4638              MOV      r0,r7
000034  f7fffffe          BL       GUI_ALLOC_h2p
000038  4681              MOV      r9,r0
;;;718            hWin = hChild;
00003a  463d              MOV      r5,r7
;;;719            for (i = 0; i < pObj->Handles.NumItems; i++) {
00003c  f04f0a00          MOV      r10,#0
000040  e00d              B        |L1.94|
                  |L1.66|
;;;720              pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, i);
000042  4651              MOV      r1,r10
000044  f104002a          ADD      r0,r4,#0x2a
000048  f7fffffe          BL       GUI_ARRAY_GetpItem
00004c  4680              MOV      r8,r0
;;;721              if (pPage->hWin == hChild) {
00004e  f9b80000          LDRSH    r0,[r8,#0]
000052  42b8              CMP      r0,r7
000054  d101              BNE      |L1.90|
;;;722                hWin = 0;
000056  2500              MOVS     r5,#0
;;;723                break;
000058  e004              B        |L1.100|
                  |L1.90|
00005a  f10a0a01          ADD      r10,r10,#1            ;719
                  |L1.94|
00005e  8d60              LDRH     r0,[r4,#0x2a]         ;719
000060  4550              CMP      r0,r10                ;719
000062  dcee              BGT      |L1.66|
                  |L1.100|
000064  bf00              NOP      
000066  f9b9701a          LDRSH    r7,[r9,#0x1a]         ;716
                  |L1.106|
00006a  b10f              CBZ      r7,|L1.112|
00006c  2d00              CMP      r5,#0                 ;716
00006e  d0e0              BEQ      |L1.50|
                  |L1.112|
;;;724              }
;;;725            }
;;;726          }
;;;727        } else {
000070  e006              B        |L1.128|
                  |L1.114|
;;;728          /* If we get a handle we must ensure that it was attached to the multipage */
;;;729          WM_AttachWindowAt(hWin, pObj->hClient, 0, 0);
000072  f9b41028          LDRSH    r1,[r4,#0x28]
000076  2300              MOVS     r3,#0
000078  461a              MOV      r2,r3
00007a  4628              MOV      r0,r5
00007c  f7fffffe          BL       WM_AttachWindowAt
                  |L1.128|
;;;730        }
;;;731        if (hWin) {
000080  b35d              CBZ      r5,|L1.218|
;;;732          MULTIPAGE_PAGE Page;
;;;733          char NullByte = 0;
000082  2000              MOVS     r0,#0
000084  9000              STR      r0,[sp,#0]
;;;734          if (!pText) {
000086  b906              CBNZ     r6,|L1.138|
;;;735            pText = &NullByte;
000088  466e              MOV      r6,sp
                  |L1.138|
;;;736          }
;;;737          Page.hWin   = hWin;
00008a  f8ad5004          STRH     r5,[sp,#4]
;;;738          Page.Status = MULTIPAGE_STATE_ENABLED;
00008e  2001              MOVS     r0,#1
000090  f88d0006          STRB     r0,[sp,#6]
;;;739          if (GUI_ARRAY_AddItem(&pObj->Handles, &Page, sizeof(MULTIPAGE_PAGE) + strlen(pText)) == 0) {
000094  4630              MOV      r0,r6
000096  f7fffffe          BL       strlen
00009a  1d07              ADDS     r7,r0,#4
00009c  463a              MOV      r2,r7
00009e  a901              ADD      r1,sp,#4
0000a0  f104002a          ADD      r0,r4,#0x2a
0000a4  f7fffffe          BL       GUI_ARRAY_AddItem
0000a8  b988              CBNZ     r0,|L1.206|
;;;740            MULTIPAGE_PAGE* pPage;
;;;741            pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, pObj->Handles.NumItems - 1);
0000aa  8d60              LDRH     r0,[r4,#0x2a]
0000ac  1e41              SUBS     r1,r0,#1
0000ae  f104002a          ADD      r0,r4,#0x2a
0000b2  f7fffffe          BL       GUI_ARRAY_GetpItem
0000b6  4607              MOV      r7,r0
;;;742            memcpy(&pPage->acText, pText, strlen(pText) + 1);
0000b8  4630              MOV      r0,r6
0000ba  f7fffffe          BL       strlen
0000be  f1000801          ADD      r8,r0,#1
0000c2  4642              MOV      r2,r8
0000c4  4631              MOV      r1,r6
0000c6  1cf8              ADDS     r0,r7,#3
0000c8  f7fffffe          BL       __aeabi_memcpy
;;;743          }
0000cc  bf00              NOP      
                  |L1.206|
;;;744          MULTIPAGE_SelectPage(hObj, pObj->Handles.NumItems - 1);
0000ce  8d60              LDRH     r0,[r4,#0x2a]
0000d0  1e41              SUBS     r1,r0,#1
0000d2  4658              MOV      r0,r11
0000d4  f7fffffe          BL       MULTIPAGE_SelectPage
;;;745        }
0000d8  bf00              NOP      
                  |L1.218|
;;;746        WM_UNLOCK();
0000da  f7fffffe          BL       GUI_Unlock
                  |L1.222|
;;;747      }
;;;748    }
0000de  e8bd9ffc          POP      {r2-r12,pc}
;;;749    
                          ENDP


                          AREA ||i.MULTIPAGE_CreateEx||, CODE, READONLY, ALIGN=2

                  MULTIPAGE_CreateEx PROC
;;;648    */
;;;649    MULTIPAGE_Handle MULTIPAGE_CreateEx(int x0, int y0, int xsize, int ysize, WM_HWIN hParent,
000000  e92d4fff          PUSH     {r0-r11,lr}
;;;650                                        int WinFlags, int ExFlags, int Id)
;;;651    {
000004  b087              SUB      sp,sp,#0x1c
000006  4607              MOV      r7,r0
000008  4688              MOV      r8,r1
00000a  4693              MOV      r11,r2
00000c  e9dd9a15          LDRD     r9,r10,[sp,#0x54]
;;;652      MULTIPAGE_Handle hObj;
;;;653      GUI_USE_PARA(ExFlags);
000010  bf00              NOP      
;;;654      /* Create the window */
;;;655      hObj = WM_CreateWindowAsChild(x0, y0, xsize, ysize, hParent, WinFlags | WM_CF_HASTRANS, &_Callback,
000012  2230              MOVS     r2,#0x30
000014  4b31              LDR      r3,|L2.220|
000016  fa1ff089          UXTH     r0,r9
00001a  f0400001          ORR      r0,r0,#1
00001e  9914              LDR      r1,[sp,#0x50]
000020  e9cd3202          STRD     r3,r2,[sp,#8]
000024  e9cd1000          STRD     r1,r0,[sp,#0]
000028  465a              MOV      r2,r11
00002a  4641              MOV      r1,r8
00002c  4638              MOV      r0,r7
00002e  9b0a              LDR      r3,[sp,#0x28]
000030  f7fffffe          BL       WM_CreateWindowAsChild
000034  4605              MOV      r5,r0
;;;656                                    sizeof(MULTIPAGE_Obj) - sizeof(WM_Obj));
;;;657      if (hObj) {
000036  2d00              CMP      r5,#0
000038  d04b              BEQ      |L2.210|
;;;658        MULTIPAGE_Obj* pObj;
;;;659        GUI_RECT rClient;
;;;660        int Flags;
;;;661        WM_LOCK();
00003a  f7fffffe          BL       GUI_Lock
;;;662        pObj = (MULTIPAGE_Obj *)GUI_ALLOC_h2p(hObj); /* Don't use use WIDGET_H2P because WIDGET_INIT_ID() has not be called at this point */
00003e  4628              MOV      r0,r5
000040  f7fffffe          BL       GUI_ALLOC_h2p
000044  4604              MOV      r4,r0
;;;663        /* Init sub-classes */
;;;664        GUI_ARRAY_CREATE(&pObj->Handles);
;;;665        /* init widget specific variables */
;;;666        WIDGET__Init(&pObj->Widget, Id, WIDGET_STATE_FOCUSSABLE);
000046  2210              MOVS     r2,#0x10
000048  4620              MOV      r0,r4
00004a  9917              LDR      r1,[sp,#0x5c]
00004c  f7fffffe          BL       WIDGET__Init
;;;667        /* init member variables */
;;;668        MULTIPAGE_INIT_ID(pObj);
;;;669        pObj->aBkColor[0]     = MULTIPAGE__DefaultBkColor[0];
000050  4823              LDR      r0,|L2.224|
000052  6800              LDR      r0,[r0,#0]  ; MULTIPAGE__DefaultBkColor
000054  6420              STR      r0,[r4,#0x40]
;;;670        pObj->aBkColor[1]     = MULTIPAGE__DefaultBkColor[1];
000056  4822              LDR      r0,|L2.224|
000058  6841              LDR      r1,[r0,#4]  ; MULTIPAGE__DefaultBkColor
00005a  6461              STR      r1,[r4,#0x44]
;;;671        pObj->aTextColor[0]   = MULTIPAGE__DefaultTextColor[0];
00005c  4821              LDR      r0,|L2.228|
00005e  6800              LDR      r0,[r0,#0]  ; MULTIPAGE__DefaultTextColor
000060  64a0              STR      r0,[r4,#0x48]
;;;672        pObj->aTextColor[1]   = MULTIPAGE__DefaultTextColor[1];
000062  4820              LDR      r0,|L2.228|
000064  6841              LDR      r1,[r0,#4]  ; MULTIPAGE__DefaultTextColor
000066  64e1              STR      r1,[r4,#0x4c]
;;;673        pObj->Font            = MULTIPAGE__pDefaultFont;
000068  481f              LDR      r0,|L2.232|
00006a  6800              LDR      r0,[r0,#0]  ; MULTIPAGE__pDefaultFont
00006c  63e0              STR      r0,[r4,#0x3c]
;;;674        pObj->Align           = MULTIPAGE__DefaultAlign;
00006e  481f              LDR      r0,|L2.236|
000070  6800              LDR      r0,[r0,#0]  ; MULTIPAGE__DefaultAlign
000072  63a0              STR      r0,[r4,#0x38]
;;;675        pObj->Selection       = 0xffff;
000074  f64f70ff          MOV      r0,#0xffff
000078  6320              STR      r0,[r4,#0x30]
;;;676        pObj->ScrollState     = 0;
00007a  2000              MOVS     r0,#0
00007c  6360              STR      r0,[r4,#0x34]
;;;677        pObj->Widget.State    = 0;
00007e  84e0              STRH     r0,[r4,#0x26]
;;;678        _CalcClientRect(pObj, &rClient);
000080  a905              ADD      r1,sp,#0x14
000082  4620              MOV      r0,r4
000084  f7fffffe          BL       _CalcClientRect
;;;679        Flags = WM_CF_SHOW | WM_CF_ANCHOR_LEFT | WM_CF_ANCHOR_RIGHT | WM_CF_ANCHOR_TOP | WM_CF_ANCHOR_BOTTOM;
000088  f2407682          MOV      r6,#0x782
;;;680        pObj->hClient = WM_CreateWindowAsChild(rClient.x0, rClient.y0,
00008c  2000              MOVS     r0,#0
00008e  4918              LDR      r1,|L2.240|
000090  e9cd5600          STRD     r5,r6,[sp,#0]
000094  e9cd1002          STRD     r1,r0,[sp,#8]
000098  f9bdc01a          LDRSH    r12,[sp,#0x1a]
00009c  f9bde016          LDRSH    lr,[sp,#0x16]
0000a0  ebac0c0e          SUB      r12,r12,lr
0000a4  f10c0301          ADD      r3,r12,#1
0000a8  f9bdc018          LDRSH    r12,[sp,#0x18]
0000ac  f9bde014          LDRSH    lr,[sp,#0x14]
0000b0  ebac0c0e          SUB      r12,r12,lr
0000b4  f10c0201          ADD      r2,r12,#1
0000b8  f9bd1016          LDRSH    r1,[sp,#0x16]
0000bc  4670              MOV      r0,lr
0000be  f7fffffe          BL       WM_CreateWindowAsChild
0000c2  8520              STRH     r0,[r4,#0x28]
;;;681                                               rClient.x1 - rClient.x0 + 1,
;;;682                                               rClient.y1 - rClient.y0 + 1,
;;;683                                               hObj, Flags, &_ClientCallback, 0);
;;;684        _UpdatePositions(hObj, pObj);
0000c4  4621              MOV      r1,r4
0000c6  4628              MOV      r0,r5
0000c8  f7fffffe          BL       _UpdatePositions
;;;685        WM_UNLOCK();
0000cc  f7fffffe          BL       GUI_Unlock
;;;686      } else {
0000d0  bf00              NOP      
                  |L2.210|
;;;687        GUI_DEBUG_ERROROUT_IF(hObj==0, "MULTIPAGE_Create failed")
;;;688      }
;;;689      return hObj;
0000d2  4628              MOV      r0,r5
;;;690    }
0000d4  b00b              ADD      sp,sp,#0x2c
0000d6  e8bd8ff0          POP      {r4-r11,pc}
;;;691    
                          ENDP

0000da  0000              DCW      0x0000
                  |L2.220|
                          DCD      _Callback
                  |L2.224|
                          DCD      MULTIPAGE__DefaultBkColor
                  |L2.228|
                          DCD      MULTIPAGE__DefaultTextColor
                  |L2.232|
                          DCD      MULTIPAGE__pDefaultFont
                  |L2.236|
                          DCD      MULTIPAGE__DefaultAlign
                  |L2.240|
                          DCD      _ClientCallback

                          AREA ||i.MULTIPAGE_DeletePage||, CODE, READONLY, ALIGN=1

                  MULTIPAGE_DeletePage PROC
;;;753    */
;;;754    void MULTIPAGE_DeletePage(MULTIPAGE_Handle hObj, unsigned Index, int Delete) {
000000  e92d47f0          PUSH     {r4-r10,lr}
000004  4606              MOV      r6,r0
000006  460d              MOV      r5,r1
000008  4617              MOV      r7,r2
;;;755      if (hObj) {
00000a  2e00              CMP      r6,#0
00000c  d03c              BEQ      |L3.136|
;;;756        MULTIPAGE_Obj* pObj;
;;;757        WM_LOCK();
00000e  f7fffffe          BL       GUI_Lock
;;;758        pObj = MULTIPAGE_H2P(hObj);
000012  4630              MOV      r0,r6
000014  f7fffffe          BL       GUI_ALLOC_h2p
000018  4604              MOV      r4,r0
;;;759        if (pObj) {
00001a  b394              CBZ      r4,|L3.130|
;;;760          if ((int)Index < pObj->Handles.NumItems) {
00001c  8d60              LDRH     r0,[r4,#0x2a]
00001e  42a8              CMP      r0,r5
000020  dd2f              BLE      |L3.130|
;;;761            WM_HWIN hWin;
;;;762            MULTIPAGE_PAGE* pPage;
;;;763            pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
000022  4629              MOV      r1,r5
000024  f104002a          ADD      r0,r4,#0x2a
000028  f7fffffe          BL       GUI_ARRAY_GetpItem
00002c  4681              MOV      r9,r0
;;;764            hWin = pPage->hWin;
00002e  f9b98000          LDRSH    r8,[r9,#0]
;;;765            /* Remove the page from the multipage object */
;;;766            if (Index == pObj->Selection) {
000032  6b20              LDR      r0,[r4,#0x30]
000034  42a8              CMP      r0,r5
000036  d110              BNE      |L3.90|
;;;767              if (Index == ((unsigned)pObj->Handles.NumItems - 1)) {
000038  8d60              LDRH     r0,[r4,#0x2a]
00003a  1e40              SUBS     r0,r0,#1
00003c  42a8              CMP      r0,r5
00003e  d107              BNE      |L3.80|
;;;768                _ShowPage(pObj, Index - 1);
000040  1e69              SUBS     r1,r5,#1
000042  4620              MOV      r0,r4
000044  f7fffffe          BL       _ShowPage
;;;769                pObj->Selection--;
000048  6b20              LDR      r0,[r4,#0x30]
00004a  1e40              SUBS     r0,r0,#1
00004c  6320              STR      r0,[r4,#0x30]
00004e  e00a              B        |L3.102|
                  |L3.80|
;;;770              } else {
;;;771                _ShowPage(pObj, Index + 1);
000050  1c69              ADDS     r1,r5,#1
000052  4620              MOV      r0,r4
000054  f7fffffe          BL       _ShowPage
000058  e005              B        |L3.102|
                  |L3.90|
;;;772              }
;;;773            } else {
;;;774              if (Index < pObj->Selection) {
00005a  6b20              LDR      r0,[r4,#0x30]
00005c  42a8              CMP      r0,r5
00005e  d902              BLS      |L3.102|
;;;775                pObj->Selection--;
000060  6b20              LDR      r0,[r4,#0x30]
000062  1e40              SUBS     r0,r0,#1
000064  6320              STR      r0,[r4,#0x30]
                  |L3.102|
;;;776              }
;;;777            }
;;;778            GUI_ARRAY_DeleteItem(&pObj->Handles, Index);
000066  4629              MOV      r1,r5
000068  f104002a          ADD      r0,r4,#0x2a
00006c  f7fffffe          BL       GUI_ARRAY_DeleteItem
;;;779            _UpdatePositions(hObj, pObj);
000070  4621              MOV      r1,r4
000072  4630              MOV      r0,r6
000074  f7fffffe          BL       _UpdatePositions
;;;780            /* Delete the window of the page */
;;;781            if (Delete) {
000078  b117              CBZ      r7,|L3.128|
;;;782              WM_DeleteWindow(hWin);
00007a  4640              MOV      r0,r8
00007c  f7fffffe          BL       WM_DeleteWindow
                  |L3.128|
;;;783            }
;;;784          }
000080  bf00              NOP      
                  |L3.130|
;;;785        }
;;;786        WM_UNLOCK();
000082  f7fffffe          BL       GUI_Unlock
;;;787      }
000086  bf00              NOP      
                  |L3.136|
;;;788    }
000088  e8bd87f0          POP      {r4-r10,pc}
;;;789    
                          ENDP


                          AREA ||i.MULTIPAGE_DisablePage||, CODE, READONLY, ALIGN=1

                  MULTIPAGE_DisablePage PROC
;;;823    */
;;;824    void MULTIPAGE_DisablePage(MULTIPAGE_Handle hObj, unsigned Index) {
000000  b570              PUSH     {r4-r6,lr}
000002  4604              MOV      r4,r0
000004  460e              MOV      r6,r1
;;;825      if (hObj) {
000006  b18c              CBZ      r4,|L4.44|
;;;826        MULTIPAGE_Obj* pObj;
;;;827        WM_LOCK();
000008  f7fffffe          BL       GUI_Lock
;;;828        pObj = MULTIPAGE_H2P(hObj);
00000c  4620              MOV      r0,r4
00000e  f7fffffe          BL       GUI_ALLOC_h2p
000012  4605              MOV      r5,r0
;;;829        if (pObj) {
000014  b13d              CBZ      r5,|L4.38|
;;;830          _SetEnable(pObj, Index, 0);
000016  2200              MOVS     r2,#0
000018  4631              MOV      r1,r6
00001a  4628              MOV      r0,r5
00001c  f7fffffe          BL       _SetEnable
;;;831          WM_InvalidateWindow(hObj);
000020  4620              MOV      r0,r4
000022  f7fffffe          BL       WM_InvalidateWindow
                  |L4.38|
;;;832        }
;;;833        WM_UNLOCK();
000026  f7fffffe          BL       GUI_Unlock
;;;834      }
00002a  bf00              NOP      
                  |L4.44|
;;;835    }
00002c  bd70              POP      {r4-r6,pc}
;;;836    
                          ENDP


                          AREA ||i.MULTIPAGE_EnablePage||, CODE, READONLY, ALIGN=1

                  MULTIPAGE_EnablePage PROC
;;;840    */
;;;841    void MULTIPAGE_EnablePage(MULTIPAGE_Handle hObj, unsigned Index) {
000000  b570              PUSH     {r4-r6,lr}
000002  4604              MOV      r4,r0
000004  460e              MOV      r6,r1
;;;842      if (hObj) {
000006  b18c              CBZ      r4,|L5.44|
;;;843        MULTIPAGE_Obj* pObj;
;;;844        WM_LOCK();
000008  f7fffffe          BL       GUI_Lock
;;;845        pObj = MULTIPAGE_H2P(hObj);
00000c  4620              MOV      r0,r4
00000e  f7fffffe          BL       GUI_ALLOC_h2p
000012  4605              MOV      r5,r0
;;;846        if (pObj) {
000014  b13d              CBZ      r5,|L5.38|
;;;847          _SetEnable(pObj, Index, 1);
000016  2201              MOVS     r2,#1
000018  4631              MOV      r1,r6
00001a  4628              MOV      r0,r5
00001c  f7fffffe          BL       _SetEnable
;;;848          WM_InvalidateWindow(hObj);
000020  4620              MOV      r0,r4
000022  f7fffffe          BL       WM_InvalidateWindow
                  |L5.38|
;;;849        }
;;;850        WM_UNLOCK();
000026  f7fffffe          BL       GUI_Unlock
;;;851      }
00002a  bf00              NOP      
                  |L5.44|
;;;852    }
00002c  bd70              POP      {r4-r6,pc}
;;;853    
                          ENDP


                          AREA ||i.MULTIPAGE_GetSelection||, CODE, READONLY, ALIGN=1

                  MULTIPAGE_GetSelection PROC
;;;962    */
;;;963    int MULTIPAGE_GetSelection(MULTIPAGE_Handle hObj) {
000000  b570              PUSH     {r4-r6,lr}
000002  4604              MOV      r4,r0
;;;964      int r = 0;
000004  2600              MOVS     r6,#0
;;;965      if (hObj) {
000006  b154              CBZ      r4,|L6.30|
;;;966        MULTIPAGE_Obj* pObj;
;;;967        WM_LOCK();
000008  f7fffffe          BL       GUI_Lock
;;;968        pObj = MULTIPAGE_H2P(hObj);
00000c  4620              MOV      r0,r4
00000e  f7fffffe          BL       GUI_ALLOC_h2p
000012  4605              MOV      r5,r0
;;;969        if (pObj) {
000014  b105              CBZ      r5,|L6.24|
;;;970          r = pObj->Selection;
000016  6b2e              LDR      r6,[r5,#0x30]
                  |L6.24|
;;;971        }
;;;972        WM_UNLOCK();
000018  f7fffffe          BL       GUI_Unlock
;;;973      }
00001c  bf00              NOP      
                  |L6.30|
;;;974      return r;
00001e  4630              MOV      r0,r6
;;;975    }
000020  bd70              POP      {r4-r6,pc}
;;;976    
                          ENDP


                          AREA ||i.MULTIPAGE_GetWindow||, CODE, READONLY, ALIGN=1

                  MULTIPAGE_GetWindow PROC
;;;980    */
;;;981    WM_HWIN MULTIPAGE_GetWindow(MULTIPAGE_Handle hObj, unsigned Index) {
000000  e92d41f0          PUSH     {r4-r8,lr}
000004  4605              MOV      r5,r0
000006  460e              MOV      r6,r1
;;;982      WM_HWIN r = 0;
000008  2700              MOVS     r7,#0
;;;983      if (hObj) {
00000a  b1ad              CBZ      r5,|L7.56|
;;;984        MULTIPAGE_Obj* pObj;
;;;985        WM_LOCK();
00000c  f7fffffe          BL       GUI_Lock
;;;986        pObj = MULTIPAGE_H2P(hObj);
000010  4628              MOV      r0,r5
000012  f7fffffe          BL       GUI_ALLOC_h2p
000016  4604              MOV      r4,r0
;;;987        if (pObj) {
000018  b15c              CBZ      r4,|L7.50|
;;;988          if ((int)Index < pObj->Handles.NumItems) {
00001a  8d60              LDRH     r0,[r4,#0x2a]
00001c  42b0              CMP      r0,r6
00001e  dd08              BLE      |L7.50|
;;;989            MULTIPAGE_PAGE* pPage;
;;;990            pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
000020  4631              MOV      r1,r6
000022  f104002a          ADD      r0,r4,#0x2a
000026  f7fffffe          BL       GUI_ARRAY_GetpItem
00002a  4680              MOV      r8,r0
;;;991            r = pPage->hWin;
00002c  f9b87000          LDRSH    r7,[r8,#0]
;;;992          }
000030  bf00              NOP      
                  |L7.50|
;;;993        }
;;;994        WM_UNLOCK();
000032  f7fffffe          BL       GUI_Unlock
;;;995      }
000036  bf00              NOP      
                  |L7.56|
;;;996      return r;
000038  4638              MOV      r0,r7
;;;997    }
00003a  e8bd81f0          POP      {r4-r8,pc}
;;;998    
                          ENDP


                          AREA ||i.MULTIPAGE_IsPageEnabled||, CODE, READONLY, ALIGN=1

                  MULTIPAGE_IsPageEnabled PROC
;;;1002   */
;;;1003   int MULTIPAGE_IsPageEnabled(MULTIPAGE_Handle hObj, unsigned Index) {
000000  e92d41f0          PUSH     {r4-r8,lr}
000004  4604              MOV      r4,r0
000006  460e              MOV      r6,r1
;;;1004     int r = 0;
000008  2700              MOVS     r7,#0
;;;1005     if (hObj) {
00000a  b174              CBZ      r4,|L8.42|
;;;1006       MULTIPAGE_Obj* pObj;
;;;1007       WM_LOCK();
00000c  f7fffffe          BL       GUI_Lock
;;;1008       pObj = MULTIPAGE_H2P(hObj);
000010  4620              MOV      r0,r4
000012  f7fffffe          BL       GUI_ALLOC_h2p
000016  4605              MOV      r5,r0
;;;1009       if (pObj) {
000018  b125              CBZ      r5,|L8.36|
;;;1010         r = _GetEnable(pObj, Index);
00001a  4631              MOV      r1,r6
00001c  4628              MOV      r0,r5
00001e  f7fffffe          BL       _GetEnable
000022  4607              MOV      r7,r0
                  |L8.36|
;;;1011       }
;;;1012       WM_UNLOCK();
000024  f7fffffe          BL       GUI_Unlock
;;;1013     }
000028  bf00              NOP      
                  |L8.42|
;;;1014     return r;
00002a  4638              MOV      r0,r7
;;;1015   }
00002c  e8bd81f0          POP      {r4-r8,pc}
;;;1016   
                          ENDP


                          AREA ||i.MULTIPAGE_SelectPage||, CODE, READONLY, ALIGN=1

                  MULTIPAGE_SelectPage PROC
;;;793    */
;;;794    void MULTIPAGE_SelectPage(MULTIPAGE_Handle hObj, unsigned Index) {
000000  e92d41f0          PUSH     {r4-r8,lr}
000004  4606              MOV      r6,r0
000006  460d              MOV      r5,r1
;;;795      if (hObj) {
000008  b34e              CBZ      r6,|L9.94|
;;;796        MULTIPAGE_Obj* pObj;
;;;797        WM_LOCK();
00000a  f7fffffe          BL       GUI_Lock
;;;798        pObj = MULTIPAGE_H2P(hObj);
00000e  4630              MOV      r0,r6
000010  f7fffffe          BL       GUI_ALLOC_h2p
000014  4604              MOV      r4,r0
;;;799        if (pObj) {
000016  b1fc              CBZ      r4,|L9.88|
;;;800          if ((int)Index < pObj->Handles.NumItems) {
000018  8d60              LDRH     r0,[r4,#0x2a]
00001a  42a8              CMP      r0,r5
00001c  dd1c              BLE      |L9.88|
;;;801            if (_GetEnable(pObj, Index)) {
00001e  4629              MOV      r1,r5
000020  4620              MOV      r0,r4
000022  f7fffffe          BL       _GetEnable
000026  b1b8              CBZ      r0,|L9.88|
;;;802              if (Index != pObj->Selection) {
000028  6b20              LDR      r0,[r4,#0x30]
00002a  42a8              CMP      r0,r5
00002c  d009              BEQ      |L9.66|
;;;803                /* Switch to page */
;;;804                _ShowPage(pObj, Index);
00002e  4629              MOV      r1,r5
000030  4620              MOV      r0,r4
000032  f7fffffe          BL       _ShowPage
;;;805                pObj->Selection = Index;
000036  6325              STR      r5,[r4,#0x30]
;;;806                _UpdatePositions(hObj, pObj);
000038  4621              MOV      r1,r4
00003a  4630              MOV      r0,r6
00003c  f7fffffe          BL       _UpdatePositions
000040  e00a              B        |L9.88|
                  |L9.66|
;;;807              } else {
;;;808                /* Page is already visible, so move at least the input focus to the page */
;;;809                MULTIPAGE_PAGE * pPage;
;;;810                pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItem(&pObj->Handles, Index);
000042  4629              MOV      r1,r5
000044  f104002a          ADD      r0,r4,#0x2a
000048  f7fffffe          BL       GUI_ARRAY_GetpItem
00004c  4607              MOV      r7,r0
;;;811                WM_SetFocus(pPage->hWin);
00004e  f9b70000          LDRSH    r0,[r7,#0]
000052  f7fffffe          BL       WM_SetFocus
;;;812              }
000056  bf00              NOP      
                  |L9.88|
;;;813            }
;;;814          }
;;;815        }
;;;816        WM_UNLOCK();
000058  f7fffffe          BL       GUI_Unlock
;;;817      }
00005c  bf00              NOP      
                  |L9.94|
;;;818    }
00005e  e8bd81f0          POP      {r4-r8,pc}
;;;819    
                          ENDP


                          AREA ||i.MULTIPAGE_SetAlign||, CODE, READONLY, ALIGN=1

                  MULTIPAGE_SetAlign PROC
;;;941    */
;;;942    void MULTIPAGE_SetAlign(MULTIPAGE_Handle hObj, unsigned Align) {
000000  e92d41fc          PUSH     {r2-r8,lr}
000004  4605              MOV      r5,r0
000006  460e              MOV      r6,r1
;;;943      MULTIPAGE_Obj* pObj;
;;;944      GUI_RECT rClient;
;;;945      if (hObj) {
000008  b1fd              CBZ      r5,|L10.74|
;;;946        WM_LOCK();
00000a  f7fffffe          BL       GUI_Lock
;;;947        pObj = MULTIPAGE_H2P(hObj);
00000e  4628              MOV      r0,r5
000010  f7fffffe          BL       GUI_ALLOC_h2p
000014  4604              MOV      r4,r0
;;;948        if (pObj) {
000016  b1b4              CBZ      r4,|L10.70|
;;;949          pObj->Align = Align;
000018  63a6              STR      r6,[r4,#0x38]
;;;950          _CalcClientRect(pObj, &rClient);
00001a  4669              MOV      r1,sp
00001c  4620              MOV      r0,r4
00001e  f7fffffe          BL       _CalcClientRect
;;;951          WM_MoveTo(pObj->hClient, rClient.x0 + pObj->Widget.Win.Rect.x0,
000022  f9bd3002          LDRSH    r3,[sp,#2]
000026  f9b47002          LDRSH    r7,[r4,#2]
00002a  19da              ADDS     r2,r3,r7
00002c  f9bd3000          LDRSH    r3,[sp,#0]
000030  f9b47000          LDRSH    r7,[r4,#0]
000034  19d9              ADDS     r1,r3,r7
000036  f9b40028          LDRSH    r0,[r4,#0x28]
00003a  f7fffffe          BL       WM_MoveTo
;;;952                                   rClient.y0 + pObj->Widget.Win.Rect.y0);
;;;953          _UpdatePositions(hObj, pObj);
00003e  4621              MOV      r1,r4
000040  4628              MOV      r0,r5
000042  f7fffffe          BL       _UpdatePositions
                  |L10.70|
;;;954        }
;;;955        WM_UNLOCK();
000046  f7fffffe          BL       GUI_Unlock
                  |L10.74|
;;;956      }
;;;957    }
00004a  e8bd81fc          POP      {r2-r8,pc}
;;;958    
                          ENDP


                          AREA ||i.MULTIPAGE_SetBkColor||, CODE, READONLY, ALIGN=1

                  MULTIPAGE_SetBkColor PROC
;;;890    */
;;;891    void MULTIPAGE_SetBkColor(MULTIPAGE_Handle hObj, GUI_COLOR Color, unsigned Index) {
000000  e92d41f0          PUSH     {r4-r8,lr}
000004  4606              MOV      r6,r0
000006  460f              MOV      r7,r1
000008  4615              MOV      r5,r2
;;;892      MULTIPAGE_Obj* pObj;
;;;893      if (hObj && ((int)Index < MULTIPAGE_NUMCOLORS)) {
00000a  b18e              CBZ      r6,|L11.48|
00000c  2d02              CMP      r5,#2
00000e  da0f              BGE      |L11.48|
;;;894        WM_LOCK();
000010  f7fffffe          BL       GUI_Lock
;;;895        pObj = MULTIPAGE_H2P(hObj);
000014  4630              MOV      r0,r6
000016  f7fffffe          BL       GUI_ALLOC_h2p
00001a  4604              MOV      r4,r0
;;;896        if (pObj) {
00001c  b134              CBZ      r4,|L11.44|
;;;897          pObj->aBkColor[Index] = Color;
00001e  f1040040          ADD      r0,r4,#0x40
000022  f8407025          STR      r7,[r0,r5,LSL #2]
;;;898          WM_InvalidateWindow(hObj);
000026  4630              MOV      r0,r6
000028  f7fffffe          BL       WM_InvalidateWindow
                  |L11.44|
;;;899        }
;;;900        WM_UNLOCK();
00002c  f7fffffe          BL       GUI_Unlock
                  |L11.48|
;;;901      }
;;;902    }
000030  e8bd81f0          POP      {r4-r8,pc}
;;;903    
                          ENDP


                          AREA ||i.MULTIPAGE_SetFont||, CODE, READONLY, ALIGN=1

                  MULTIPAGE_SetFont PROC
;;;924    */
;;;925    void MULTIPAGE_SetFont(MULTIPAGE_Handle hObj, const GUI_FONT GUI_UNI_PTR * pFont) {
000000  b570              PUSH     {r4-r6,lr}
000002  4606              MOV      r6,r0
000004  460d              MOV      r5,r1
;;;926      MULTIPAGE_Obj* pObj;
;;;927      if (hObj && pFont) {
000006  b176              CBZ      r6,|L12.38|
000008  b16d              CBZ      r5,|L12.38|
;;;928        WM_LOCK();
00000a  f7fffffe          BL       GUI_Lock
;;;929        pObj = MULTIPAGE_H2P(hObj);
00000e  4630              MOV      r0,r6
000010  f7fffffe          BL       GUI_ALLOC_h2p
000014  4604              MOV      r4,r0
;;;930        if (pObj) {
000016  b124              CBZ      r4,|L12.34|
;;;931          pObj->Font = pFont;
000018  63e5              STR      r5,[r4,#0x3c]
;;;932          _UpdatePositions(hObj, pObj);
00001a  4621              MOV      r1,r4
00001c  4630              MOV      r0,r6
00001e  f7fffffe          BL       _UpdatePositions
                  |L12.34|
;;;933        }
;;;934        WM_UNLOCK();
000022  f7fffffe          BL       GUI_Unlock
                  |L12.38|
;;;935      }
;;;936    }
000026  bd70              POP      {r4-r6,pc}
;;;937    
                          ENDP


                          AREA ||i.MULTIPAGE_SetText||, CODE, READONLY, ALIGN=1

                  MULTIPAGE_SetText PROC
;;;863    */
;;;864    void MULTIPAGE_SetText(MULTIPAGE_Handle hObj, const char* pText, unsigned Index) {
000000  e92d43f8          PUSH     {r3-r9,lr}
000004  4680              MOV      r8,r0
000006  460d              MOV      r5,r1
000008  4616              MOV      r6,r2
;;;865      MULTIPAGE_Obj* pObj;
;;;866      if (hObj && pText) {
00000a  f1b80f00          CMP      r8,#0
00000e  d03b              BEQ      |L13.136|
000010  2d00              CMP      r5,#0
000012  d039              BEQ      |L13.136|
;;;867        WM_LOCK();
000014  f7fffffe          BL       GUI_Lock
;;;868        pObj = MULTIPAGE_H2P(hObj);
000018  4640              MOV      r0,r8
00001a  f7fffffe          BL       GUI_ALLOC_h2p
00001e  4604              MOV      r4,r0
;;;869        if (pObj) {
000020  b384              CBZ      r4,|L13.132|
;;;870          if ((int)Index < pObj->Handles.NumItems) {
000022  8d60              LDRH     r0,[r4,#0x2a]
000024  42b0              CMP      r0,r6
000026  dd2d              BLE      |L13.132|
;;;871            MULTIPAGE_PAGE* pPage;
;;;872            MULTIPAGE_PAGE Page;
;;;873            pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
000028  4631              MOV      r1,r6
00002a  f104002a          ADD      r0,r4,#0x2a
00002e  f7fffffe          BL       GUI_ARRAY_GetpItem
000032  4607              MOV      r7,r0
;;;874            Page.hWin   = pPage->hWin;
000034  8838              LDRH     r0,[r7,#0]
000036  f8ad0000          STRH     r0,[sp,#0]
;;;875            Page.Status = pPage->Status;
00003a  78b8              LDRB     r0,[r7,#2]
00003c  f88d0002          STRB     r0,[sp,#2]
;;;876            if (GUI_ARRAY_SetItem(&pObj->Handles, Index, &Page, sizeof(MULTIPAGE_PAGE) + strlen(pText))) {
000040  4628              MOV      r0,r5
000042  f7fffffe          BL       strlen
000046  f1000904          ADD      r9,r0,#4
00004a  464b              MOV      r3,r9
00004c  466a              MOV      r2,sp
00004e  4631              MOV      r1,r6
000050  f104002a          ADD      r0,r4,#0x2a
000054  f7fffffe          BL       GUI_ARRAY_SetItem
000058  b198              CBZ      r0,|L13.130|
;;;877              pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
00005a  4631              MOV      r1,r6
00005c  f104002a          ADD      r0,r4,#0x2a
000060  f7fffffe          BL       GUI_ARRAY_GetpItem
000064  4607              MOV      r7,r0
;;;878              memcpy(&pPage->acText, pText, strlen(pText) + 1);          
000066  4628              MOV      r0,r5
000068  f7fffffe          BL       strlen
00006c  f1000901          ADD      r9,r0,#1
000070  464a              MOV      r2,r9
000072  4629              MOV      r1,r5
000074  1cf8              ADDS     r0,r7,#3
000076  f7fffffe          BL       __aeabi_memcpy
;;;879              _UpdatePositions(hObj, pObj);
00007a  4621              MOV      r1,r4
00007c  4640              MOV      r0,r8
00007e  f7fffffe          BL       _UpdatePositions
                  |L13.130|
;;;880            }
;;;881          }
000082  bf00              NOP      
                  |L13.132|
;;;882        }
;;;883        WM_UNLOCK();
000084  f7fffffe          BL       GUI_Unlock
                  |L13.136|
;;;884      }
;;;885    }
000088  e8bd83f8          POP      {r3-r9,pc}
;;;886    
                          ENDP


                          AREA ||i.MULTIPAGE_SetTextColor||, CODE, READONLY, ALIGN=1

                  MULTIPAGE_SetTextColor PROC
;;;907    */
;;;908    void MULTIPAGE_SetTextColor(MULTIPAGE_Handle hObj, GUI_COLOR Color, unsigned Index) {
000000  e92d41f0          PUSH     {r4-r8,lr}
000004  4606              MOV      r6,r0
000006  460f              MOV      r7,r1
000008  4615              MOV      r5,r2
;;;909      MULTIPAGE_Obj* pObj;
;;;910      if (hObj && ((int)Index < MULTIPAGE_NUMCOLORS)) {
00000a  b18e              CBZ      r6,|L14.48|
00000c  2d02              CMP      r5,#2
00000e  da0f              BGE      |L14.48|
;;;911        WM_LOCK();
000010  f7fffffe          BL       GUI_Lock
;;;912        pObj = MULTIPAGE_H2P(hObj);
000014  4630              MOV      r0,r6
000016  f7fffffe          BL       GUI_ALLOC_h2p
00001a  4604              MOV      r4,r0
;;;913        if (pObj) {
00001c  b134              CBZ      r4,|L14.44|
;;;914          pObj->aTextColor[Index] = Color;
00001e  f1040048          ADD      r0,r4,#0x48
000022  f8407025          STR      r7,[r0,r5,LSL #2]
;;;915          WM_InvalidateWindow(hObj);
000026  4630              MOV      r0,r6
000028  f7fffffe          BL       WM_InvalidateWindow
                  |L14.44|
;;;916        }
;;;917        WM_UNLOCK();
00002c  f7fffffe          BL       GUI_Unlock
                  |L14.48|
;;;918      }
;;;919    }
000030  e8bd81f0          POP      {r4-r8,pc}
;;;920    
                          ENDP


                          AREA ||i._AddKey||, CODE, READONLY, ALIGN=1

                  _AddKey PROC
;;;513    */
;;;514    static int _AddKey(MULTIPAGE_Handle hObj, MULTIPAGE_Obj * pObj, int Key) {
000000  b570              PUSH     {r4-r6,lr}
000002  4605              MOV      r5,r0
000004  460e              MOV      r6,r1
000006  4614              MOV      r4,r2
;;;515      switch (Key) {
000008  2c21              CMP      r4,#0x21
00000a  d002              BEQ      |L15.18|
00000c  2c22              CMP      r4,#0x22
00000e  d10f              BNE      |L15.48|
000010  e007              B        |L15.34|
                  |L15.18|
;;;516      case GUI_KEY_PGUP:
;;;517        _MoveSel(hObj, pObj, -1);
000012  f04f32ff          MOV      r2,#0xffffffff
000016  4631              MOV      r1,r6
000018  4628              MOV      r0,r5
00001a  f7fffffe          BL       _MoveSel
;;;518        return 1;               /* Key has been consumed */
00001e  2001              MOVS     r0,#1
                  |L15.32|
;;;519      case GUI_KEY_PGDOWN:
;;;520        _MoveSel(hObj, pObj, +1);
;;;521        return 1;               /* Key has been consumed */
;;;522      }
;;;523      return 0;                 /* Key has NOT been consumed */
;;;524    }
000020  bd70              POP      {r4-r6,pc}
                  |L15.34|
000022  2201              MOVS     r2,#1                 ;520
000024  4631              MOV      r1,r6                 ;520
000026  4628              MOV      r0,r5                 ;520
000028  f7fffffe          BL       _MoveSel
00002c  2001              MOVS     r0,#1                 ;521
00002e  e7f7              B        |L15.32|
                  |L15.48|
000030  2000              MOVS     r0,#0                 ;523
000032  e7f5              B        |L15.32|
;;;525    
                          ENDP


                          AREA ||i._AddScrollbar||, CODE, READONLY, ALIGN=1

                  _AddScrollbar PROC
;;;90     */
;;;91     static void _AddScrollbar(MULTIPAGE_Handle hObj, MULTIPAGE_Obj* pObj, int x, int y, int w, int h) {
000000  e92d47ff          PUSH     {r0-r10,lr}
000004  4607              MOV      r7,r0
000006  460c              MOV      r4,r1
000008  4615              MOV      r5,r2
00000a  461e              MOV      r6,r3
00000c  e9dd890c          LDRD     r8,r9,[sp,#0x30]
;;;92       SCROLLBAR_Handle hScroll;
;;;93       if ((hScroll = WM_GetScrollbarH(hObj)) == 0) {
000010  4638              MOV      r0,r7
000012  f7fffffe          BL       WM_GetScrollbarH
000016  ea5f0a00          MOVS     r10,r0
00001a  d111              BNE      |L16.64|
;;;94         hScroll = SCROLLBAR_Create(x, y, w, h, hObj, GUI_ID_HSCROLL, WM_CF_SHOW, 0);
00001c  2102              MOVS     r1,#2
00001e  22ff              MOVS     r2,#0xff
000020  464b              MOV      r3,r9
000022  e9cd7200          STRD     r7,r2,[sp,#0]
000026  e9cd1002          STRD     r1,r0,[sp,#8]
00002a  4642              MOV      r2,r8
00002c  4631              MOV      r1,r6
00002e  4628              MOV      r0,r5
000030  f7fffffe          BL       SCROLLBAR_Create
000034  4682              MOV      r10,r0
;;;95         WIDGET_SetEffect(hScroll, pObj->Widget.pEffect);
000036  4650              MOV      r0,r10
000038  6a21              LDR      r1,[r4,#0x20]
00003a  f7fffffe          BL       WIDGET_SetEffect
00003e  e009              B        |L16.84|
                  |L16.64|
;;;96       } else {
;;;97         WM_MoveChildTo(hScroll, x, y);
000040  4632              MOV      r2,r6
000042  4629              MOV      r1,r5
000044  4650              MOV      r0,r10
000046  f7fffffe          BL       WM_MoveChildTo
;;;98         WM_SetSize(hScroll, w, h);
00004a  464a              MOV      r2,r9
00004c  4641              MOV      r1,r8
00004e  4650              MOV      r0,r10
000050  f7fffffe          BL       WM_SetSize
                  |L16.84|
;;;99       }
;;;100      pObj->Widget.State |= MULTIPAGE_STATE_SCROLLMODE;
000054  8ce0              LDRH     r0,[r4,#0x26]
000056  f4407080          ORR      r0,r0,#0x100
00005a  84e0              STRH     r0,[r4,#0x26]
;;;101    }
00005c  e8bd87ff          POP      {r0-r10,pc}
;;;102    
                          ENDP


                          AREA ||i._CalcBorderRect||, CODE, READONLY, ALIGN=1

                  _CalcBorderRect PROC
;;;202    */
;;;203    static void _CalcBorderRect(MULTIPAGE_Obj* pObj, GUI_RECT* pRect) {
000000  b570              PUSH     {r4-r6,lr}
000002  4605              MOV      r5,r0
000004  460c              MOV      r4,r1
;;;204      WM__GetClientRectWin(&pObj->Widget.Win, pRect);
000006  4621              MOV      r1,r4
000008  4628              MOV      r0,r5
00000a  f7fffffe          BL       WM__GetClientRectWin
;;;205      if (pObj->Align & MULTIPAGE_ALIGN_BOTTOM) {
00000e  f8950038          LDRB     r0,[r5,#0x38]
000012  f0100f04          TST      r0,#4
000016  d008              BEQ      |L17.42|
;;;206        pRect->y1 -= GUI_GetYSizeOfFont(pObj->Font) + 6;
000018  6be8              LDR      r0,[r5,#0x3c]
00001a  f7fffffe          BL       GUI_GetYSizeOfFont
00001e  1d80              ADDS     r0,r0,#6
000020  88e1              LDRH     r1,[r4,#6]
000022  1a08              SUBS     r0,r1,r0
000024  b200              SXTH     r0,r0
000026  80e0              STRH     r0,[r4,#6]
000028  e007              B        |L17.58|
                  |L17.42|
;;;207      } else {
;;;208        pRect->y0 += GUI_GetYSizeOfFont(pObj->Font) + 6;
00002a  6be8              LDR      r0,[r5,#0x3c]
00002c  f7fffffe          BL       GUI_GetYSizeOfFont
000030  1d80              ADDS     r0,r0,#6
000032  8861              LDRH     r1,[r4,#2]
000034  4408              ADD      r0,r0,r1
000036  b200              SXTH     r0,r0
000038  8060              STRH     r0,[r4,#2]
                  |L17.58|
;;;209      }
;;;210    }
00003a  bd70              POP      {r4-r6,pc}
;;;211    
                          ENDP


                          AREA ||i._CalcClientRect||, CODE, READONLY, ALIGN=1

                  _CalcClientRect PROC
;;;187    */
;;;188    static void _CalcClientRect(MULTIPAGE_Obj* pObj, GUI_RECT* pRect) {
000000  b570              PUSH     {r4-r6,lr}
000002  4605              MOV      r5,r0
000004  460c              MOV      r4,r1
;;;189      WIDGET__GetInsideRect(&pObj->Widget, pRect);
000006  4621              MOV      r1,r4
000008  4628              MOV      r0,r5
00000a  f7fffffe          BL       WIDGET__GetInsideRect
;;;190      if (pObj->Align & MULTIPAGE_ALIGN_BOTTOM) {
00000e  f8950038          LDRB     r0,[r5,#0x38]
000012  f0100f04          TST      r0,#4
000016  d008              BEQ      |L18.42|
;;;191        pRect->y1 -= GUI_GetYSizeOfFont(pObj->Font) + 6;
000018  6be8              LDR      r0,[r5,#0x3c]
00001a  f7fffffe          BL       GUI_GetYSizeOfFont
00001e  1d80              ADDS     r0,r0,#6
000020  88e1              LDRH     r1,[r4,#6]
000022  1a08              SUBS     r0,r1,r0
000024  b200              SXTH     r0,r0
000026  80e0              STRH     r0,[r4,#6]
000028  e007              B        |L18.58|
                  |L18.42|
;;;192      } else {
;;;193        pRect->y0 += GUI_GetYSizeOfFont(pObj->Font) + 6;
00002a  6be8              LDR      r0,[r5,#0x3c]
00002c  f7fffffe          BL       GUI_GetYSizeOfFont
000030  1d80              ADDS     r0,r0,#6
000032  8861              LDRH     r1,[r4,#2]
000034  4408              ADD      r0,r0,r1
000036  b200              SXTH     r0,r0
000038  8060              STRH     r0,[r4,#2]
                  |L18.58|
;;;194      }
;;;195    }
00003a  bd70              POP      {r4-r6,pc}
;;;196    
                          ENDP


                          AREA ||i._Callback||, CODE, READONLY, ALIGN=1

                  _Callback PROC
;;;529    */
;;;530    static void _Callback (WM_MESSAGE *pMsg) {
000000  e92d41f0          PUSH     {r4-r8,lr}
000004  4604              MOV      r4,r0
;;;531      MULTIPAGE_Handle hObj = pMsg->hWin;
000006  f9b46004          LDRSH    r6,[r4,#4]
;;;532      MULTIPAGE_Obj* pObj;
;;;533      int Handled;
;;;534      WM_LOCK();
00000a  f7fffffe          BL       GUI_Lock
;;;535      pObj = (MULTIPAGE_Obj *)GUI_ALLOC_h2p(hObj); /* Don't use use WIDGET_H2P because WIDGET_INIT_ID() has not be called at this point */
00000e  4630              MOV      r0,r6
000010  f7fffffe          BL       GUI_ALLOC_h2p
000014  4605              MOV      r5,r0
;;;536      Handled = WIDGET_HandleActive(hObj, pMsg);
000016  4621              MOV      r1,r4
000018  4630              MOV      r0,r6
00001a  f7fffffe          BL       WIDGET_HandleActive
00001e  4607              MOV      r7,r0
;;;537      switch (pMsg->MsgId) {
000020  6820              LDR      r0,[r4,#0]
000022  2814              CMP      r0,#0x14
000024  d031              BEQ      |L19.138|
000026  dc08              BGT      |L19.58|
000028  2805              CMP      r0,#5
00002a  d03b              BEQ      |L19.164|
00002c  280b              CMP      r0,#0xb
00002e  d03e              BEQ      |L19.174|
000030  280c              CMP      r0,#0xc
000032  d00e              BEQ      |L19.82|
000034  280f              CMP      r0,#0xf
000036  d13f              BNE      |L19.184|
000038  e007              B        |L19.74|
                  |L19.58|
00003a  2817              CMP      r0,#0x17
00003c  d021              BEQ      |L19.130|
00003e  2826              CMP      r0,#0x26
000040  d00d              BEQ      |L19.94|
000042  f5b07f40          CMP      r0,#0x300
000046  d137              BNE      |L19.184|
000048  e024              B        |L19.148|
                  |L19.74|
;;;538      case WM_PAINT:
;;;539        _Paint(pObj);
00004a  4628              MOV      r0,r5
00004c  f7fffffe          BL       _Paint
;;;540        break;
000050  e037              B        |L19.194|
                  |L19.82|
;;;541      case WM_TOUCH:
;;;542        _OnTouch(hObj, pObj, pMsg);
000052  4622              MOV      r2,r4
000054  4629              MOV      r1,r5
000056  4630              MOV      r0,r6
000058  f7fffffe          BL       _OnTouch
;;;543        break;
00005c  e031              B        |L19.194|
                  |L19.94|
;;;544      case WM_NOTIFY_PARENT:
;;;545        if (pMsg->Data.v == WM_NOTIFICATION_VALUE_CHANGED) {
00005e  68a0              LDR      r0,[r4,#8]
000060  2805              CMP      r0,#5
000062  d10d              BNE      |L19.128|
;;;546          if (WM_GetId(pMsg->hWinSrc) == GUI_ID_HSCROLL) {
000064  f9b40006          LDRSH    r0,[r4,#6]
000068  f7fffffe          BL       WM_GetId
00006c  28ff              CMP      r0,#0xff
00006e  d107              BNE      |L19.128|
;;;547            pObj->ScrollState = SCROLLBAR_GetValue(pMsg->hWinSrc);
000070  f9b40006          LDRSH    r0,[r4,#6]
000074  f7fffffe          BL       SCROLLBAR_GetValue
000078  6368              STR      r0,[r5,#0x34]
;;;548            WM_InvalidateWindow(hObj);
00007a  4630              MOV      r0,r6
00007c  f7fffffe          BL       WM_InvalidateWindow
                  |L19.128|
;;;549          }
;;;550        }
;;;551        break;
000080  e01f              B        |L19.194|
                  |L19.130|
;;;552      case WM_GET_CLIENT_WINDOW:
;;;553        pMsg->Data.v = (int)pObj->hClient;
000082  f9b50028          LDRSH    r0,[r5,#0x28]
000086  60a0              STR      r0,[r4,#8]
;;;554        break;
000088  e01b              B        |L19.194|
                  |L19.138|
;;;555      case WM_GET_INSIDE_RECT:
;;;556        _CalcClientRect(pObj, (GUI_RECT*)(pMsg->Data.p));
00008a  4628              MOV      r0,r5
00008c  68a1              LDR      r1,[r4,#8]
00008e  f7fffffe          BL       _CalcClientRect
;;;557        break;
000092  e016              B        |L19.194|
                  |L19.148|
;;;558      case WM_WIDGET_SET_EFFECT:
;;;559        WIDGET_SetEffect(WM_GetScrollbarH(hObj), (WIDGET_EFFECT const *)pMsg->Data.p);
000094  4630              MOV      r0,r6
000096  f7fffffe          BL       WM_GetScrollbarH
00009a  4680              MOV      r8,r0
00009c  68a1              LDR      r1,[r4,#8]
00009e  f7fffffe          BL       WIDGET_SetEffect
;;;560      case WM_SIZE:
0000a2  bf00              NOP      
                  |L19.164|
;;;561        _UpdatePositions(hObj, pObj);
0000a4  4629              MOV      r1,r5
0000a6  4630              MOV      r0,r6
0000a8  f7fffffe          BL       _UpdatePositions
;;;562        break;
0000ac  e009              B        |L19.194|
                  |L19.174|
;;;563      case WM_DELETE:
;;;564        GUI_ARRAY_Delete(&pObj->Handles);
0000ae  f105002a          ADD      r0,r5,#0x2a
0000b2  f7fffffe          BL       GUI_ARRAY_Delete
;;;565        /* No break here ... WM_DefaultProc needs to be called */
;;;566      default:
0000b6  bf00              NOP      
                  |L19.184|
;;;567        /* Let widget handle the standard messages */
;;;568        if (Handled) {
0000b8  b117              CBZ      r7,|L19.192|
;;;569          WM_DefaultProc(pMsg);
0000ba  4620              MOV      r0,r4
0000bc  f7fffffe          BL       WM_DefaultProc
                  |L19.192|
0000c0  bf00              NOP                            ;537
                  |L19.194|
0000c2  bf00              NOP                            ;540
;;;570        }
;;;571      }
;;;572      WM_UNLOCK();
0000c4  f7fffffe          BL       GUI_Unlock
;;;573    }
0000c8  e8bd81f0          POP      {r4-r8,pc}
;;;574    
                          ENDP


                          AREA ||i._ClickedOnMultipage||, CODE, READONLY, ALIGN=1

                  _ClickedOnMultipage PROC
;;;409    */
;;;410    static int _ClickedOnMultipage(MULTIPAGE_Handle hObj, MULTIPAGE_Obj* pObj, int x, int y) {
000000  e92d47fc          PUSH     {r2-r10,lr}
000004  4682              MOV      r10,r0
000006  460c              MOV      r4,r1
000008  4615              MOV      r5,r2
00000a  4698              MOV      r8,r3
;;;411      GUI_RECT rText;
;;;412      _GetTextRect(pObj, &rText);
00000c  4669              MOV      r1,sp
00000e  4620              MOV      r0,r4
000010  f7fffffe          BL       _GetTextRect
;;;413      if ((y >= rText.y0) && (y <= rText.y1)) {
000014  f9bd0002          LDRSH    r0,[sp,#2]
000018  4540              CMP      r0,r8
00001a  dc3c              BGT      |L20.150|
00001c  f9bd0006          LDRSH    r0,[sp,#6]
000020  4540              CMP      r0,r8
000022  db38              BLT      |L20.150|
;;;414        if ((pObj->Handles.NumItems > 0) && (x >= rText.x0) && (x <= rText.x1)) {
000024  8d60              LDRH     r0,[r4,#0x2a]
000026  2800              CMP      r0,#0
000028  dd33              BLE      |L20.146|
00002a  f9bd0000          LDRSH    r0,[sp,#0]
00002e  42a8              CMP      r0,r5
000030  dc2f              BGT      |L20.146|
000032  f9bd0004          LDRSH    r0,[sp,#4]
000036  42a8              CMP      r0,r5
000038  db2b              BLT      |L20.146|
;;;415          int i, w = 0, x0 = rText.x0;
00003a  f04f0900          MOV      r9,#0
00003e  f9bd7000          LDRSH    r7,[sp,#0]
;;;416          /* Check if another page must be selected */
;;;417          if (pObj->Widget.State & MULTIPAGE_STATE_SCROLLMODE) {
000042  8ce0              LDRH     r0,[r4,#0x26]
000044  f4107f80          TST      r0,#0x100
000048  d004              BEQ      |L20.84|
;;;418            x0 -= _GetPagePosX(pObj, pObj->ScrollState);
00004a  4620              MOV      r0,r4
00004c  6b61              LDR      r1,[r4,#0x34]
00004e  f7fffffe          BL       _GetPagePosX
000052  1a3f              SUBS     r7,r7,r0
                  |L20.84|
;;;419          }
;;;420          for (i = 0; i < pObj->Handles.NumItems; i++) {
000054  2600              MOVS     r6,#0
000056  e018              B        |L20.138|
                  |L20.88|
;;;421            x0 += w;
000058  444f              ADD      r7,r7,r9
;;;422            w   = _GetPageSizeX(pObj, i);
00005a  4631              MOV      r1,r6
00005c  4620              MOV      r0,r4
00005e  f7fffffe          BL       _GetPageSizeX
000062  4681              MOV      r9,r0
;;;423            if (x >= x0 && x <= (x0 + w - 1)) {
000064  42bd              CMP      r5,r7
000066  db0f              BLT      |L20.136|
000068  eb070009          ADD      r0,r7,r9
00006c  1e40              SUBS     r0,r0,#1
00006e  42a8              CMP      r0,r5
000070  db0a              BLT      |L20.136|
;;;424              MULTIPAGE_SelectPage(hObj, i);
000072  4631              MOV      r1,r6
000074  4650              MOV      r0,r10
000076  f7fffffe          BL       MULTIPAGE_SelectPage
;;;425              WM_NotifyParent(hObj, WM_NOTIFICATION_VALUE_CHANGED);
00007a  2105              MOVS     r1,#5
00007c  4650              MOV      r0,r10
00007e  f7fffffe          BL       WM_NotifyParent
;;;426              return 1;
000082  2001              MOVS     r0,#1
                  |L20.132|
;;;427            }
;;;428          }
;;;429        }
;;;430        return 0;
;;;431      }
;;;432      return 1;
;;;433    }
000084  e8bd87fc          POP      {r2-r10,pc}
                  |L20.136|
000088  1c76              ADDS     r6,r6,#1              ;420
                  |L20.138|
00008a  8d60              LDRH     r0,[r4,#0x2a]         ;420
00008c  42b0              CMP      r0,r6                 ;420
00008e  dce3              BGT      |L20.88|
000090  bf00              NOP                            ;429
                  |L20.146|
000092  2000              MOVS     r0,#0                 ;430
000094  e7f6              B        |L20.132|
                  |L20.150|
000096  2001              MOVS     r0,#1                 ;432
000098  e7f4              B        |L20.132|
;;;434    
                          ENDP


                          AREA ||i._ClientCallback||, CODE, READONLY, ALIGN=1

                  _ClientCallback PROC
;;;578    */
;;;579    static void _ClientCallback(WM_MESSAGE* pMsg) {
000000  e92d41f0          PUSH     {r4-r8,lr}
000004  4604              MOV      r4,r0
;;;580      WM_HWIN hObj = pMsg->hWin;
000006  f9b45004          LDRSH    r5,[r4,#4]
;;;581      WM_HWIN hParent = WM_GetParent(hObj);
00000a  4628              MOV      r0,r5
00000c  f7fffffe          BL       WM_GetParent
000010  4680              MOV      r8,r0
;;;582      MULTIPAGE_Obj* pParent;
;;;583      WM_LOCK();
000012  f7fffffe          BL       GUI_Lock
;;;584      pParent = (MULTIPAGE_Obj *)GUI_ALLOC_h2p(hParent); /* Don't use use WIDGET_H2P because WIDGET_INIT_ID() has not be called at this point */
000016  4640              MOV      r0,r8
000018  f7fffffe          BL       GUI_ALLOC_h2p
00001c  4606              MOV      r6,r0
;;;585      switch (pMsg->MsgId) {
00001e  6820              LDR      r0,[r4,#0]
000020  280f              CMP      r0,#0xf
000022  d00a              BEQ      |L21.58|
000024  dc04              BGT      |L21.48|
000026  280c              CMP      r0,#0xc
000028  d00d              BEQ      |L21.70|
00002a  280e              CMP      r0,#0xe
00002c  d127              BNE      |L21.126|
00002e  e013              B        |L21.88|
                  |L21.48|
000030  2814              CMP      r0,#0x14
000032  d020              BEQ      |L21.118|
000034  2817              CMP      r0,#0x17
000036  d122              BNE      |L21.126|
000038  e00c              B        |L21.84|
                  |L21.58|
;;;586      case WM_PAINT:
;;;587        LCD_SetBkColor(pParent->aBkColor[1]);
00003a  6c70              LDR      r0,[r6,#0x44]
00003c  f7fffffe          BL       LCD_SetBkColor
;;;588        GUI_Clear();
000040  f7fffffe          BL       GUI_Clear
;;;589        break;
000044  e01b              B        |L21.126|
                  |L21.70|
;;;590      case WM_TOUCH:
;;;591        WM_SetFocus(hParent);
000046  4640              MOV      r0,r8
000048  f7fffffe          BL       WM_SetFocus
;;;592        WM_BringToTop(hParent);
00004c  4640              MOV      r0,r8
00004e  f7fffffe          BL       WM_BringToTop
;;;593        break;
000052  e014              B        |L21.126|
                  |L21.84|
;;;594      case WM_GET_CLIENT_WINDOW:
;;;595        pMsg->Data.v = (int)hObj;
000054  60a5              STR      r5,[r4,#8]
;;;596        break;
000056  e012              B        |L21.126|
                  |L21.88|
;;;597      case WM_KEY:
;;;598        if (((const WM_KEY_INFO*)(pMsg->Data.p))->PressedCnt > 0) {
000058  68a0              LDR      r0,[r4,#8]
00005a  6840              LDR      r0,[r0,#4]
00005c  2800              CMP      r0,#0
00005e  dd09              BLE      |L21.116|
;;;599          int Key;
;;;600          Key = ((const WM_KEY_INFO*)(pMsg->Data.p))->Key;
000060  68a0              LDR      r0,[r4,#8]
000062  6807              LDR      r7,[r0,#0]
;;;601          if (_AddKey(hParent, pParent, Key)) {
000064  463a              MOV      r2,r7
000066  4631              MOV      r1,r6
000068  4640              MOV      r0,r8
00006a  f7fffffe          BL       _AddKey
00006e  b100              CBZ      r0,|L21.114|
;;;602            break;
000070  e005              B        |L21.126|
                  |L21.114|
;;;603          }
;;;604        }
000072  bf00              NOP      
                  |L21.116|
;;;605        /* No break here ... WM_DefaultProc needs to be called */
;;;606      case WM_GET_INSIDE_RECT:
000074  bf00              NOP      
                  |L21.118|
;;;607        WM_DefaultProc(pMsg);
000076  4620              MOV      r0,r4
000078  f7fffffe          BL       WM_DefaultProc
00007c  bf00              NOP                            ;585
                  |L21.126|
00007e  bf00              NOP                            ;589
;;;608      }
;;;609      WM_UNLOCK();
000080  f7fffffe          BL       GUI_Unlock
;;;610    }
000084  e8bd81f0          POP      {r4-r8,pc}
;;;611    
                          ENDP


                          AREA ||i._DeleteScrollbar||, CODE, READONLY, ALIGN=1

                  _DeleteScrollbar PROC
;;;121    */
;;;122    static void _DeleteScrollbar(MULTIPAGE_Handle hObj, MULTIPAGE_Obj* pObj) {
000000  b570              PUSH     {r4-r6,lr}
000002  4605              MOV      r5,r0
000004  460c              MOV      r4,r1
;;;123      WM_DeleteWindow(WM_GetScrollbarH(hObj));
000006  4628              MOV      r0,r5
000008  f7fffffe          BL       WM_GetScrollbarH
00000c  4606              MOV      r6,r0
00000e  f7fffffe          BL       WM_DeleteWindow
;;;124      pObj->Widget.State &= ~MULTIPAGE_STATE_SCROLLMODE;
000012  8ce0              LDRH     r0,[r4,#0x26]
000014  f4207080          BIC      r0,r0,#0x100
000018  84e0              STRH     r0,[r4,#0x26]
;;;125    }
00001a  bd70              POP      {r4-r6,pc}
;;;126    
                          ENDP


                          AREA ||i._DrawTextItem||, CODE, READONLY, ALIGN=2

                  _DrawTextItem PROC
;;;328    */
;;;329    static void _DrawTextItem(MULTIPAGE_Obj* pObj, const char* pText, unsigned Index,
000000  e92d47fc          PUSH     {r2-r10,lr}
;;;330                              const GUI_RECT* pRect, int x0, int w, int ColorIndex) {
000004  4604              MOV      r4,r0
000006  460f              MOV      r7,r1
000008  4690              MOV      r8,r2
00000a  461d              MOV      r5,r3
00000c  e9dd9a0a          LDRD     r9,r10,[sp,#0x28]
000010  9e0c              LDR      r6,[sp,#0x30]
;;;331      GUI_RECT r;
;;;332      r = *pRect;
000012  6828              LDR      r0,[r5,#0]
000014  9000              STR      r0,[sp,#0]
000016  6868              LDR      r0,[r5,#4]
000018  9001              STR      r0,[sp,#4]
;;;333      r.x0 += x0;
00001a  f8bd0000          LDRH     r0,[sp,#0]
00001e  4448              ADD      r0,r0,r9
000020  b200              SXTH     r0,r0
000022  f8ad0000          STRH     r0,[sp,#0]
;;;334      r.x1  = r.x0 + w;
000026  f8bd0000          LDRH     r0,[sp,#0]
00002a  4450              ADD      r0,r0,r10
00002c  b200              SXTH     r0,r0
00002e  f8ad0004          STRH     r0,[sp,#4]
;;;335      WIDGET__EFFECT_DrawUpRect(&pObj->Widget, &r);
000032  4669              MOV      r1,sp
000034  4620              MOV      r0,r4
000036  f7fffffe          BL       WIDGET__EFFECT_DrawUpRect
;;;336      GUI__ReduceRect(&r, &r, pObj->Widget.pEffect->EffectSize);
00003a  6a20              LDR      r0,[r4,#0x20]
00003c  4669              MOV      r1,sp
00003e  6942              LDR      r2,[r0,#0x14]
000040  4668              MOV      r0,sp
000042  f7fffffe          BL       GUI__ReduceRect
;;;337      if (pObj->Selection == Index) {
000046  6b20              LDR      r0,[r4,#0x30]
000048  4540              CMP      r0,r8
00004a  d151              BNE      |L23.240|
;;;338        if (pObj->Align & MULTIPAGE_ALIGN_BOTTOM) {
00004c  f8940038          LDRB     r0,[r4,#0x38]
000050  f0100f04          TST      r0,#4
000054  d026              BEQ      |L23.164|
;;;339          r.y0 -= pObj->Widget.pEffect->EffectSize + 1;
000056  f8bd1002          LDRH     r1,[sp,#2]
00005a  6a20              LDR      r0,[r4,#0x20]
00005c  8a80              LDRH     r0,[r0,#0x14]
00005e  1c40              ADDS     r0,r0,#1
000060  1a08              SUBS     r0,r1,r0
000062  b200              SXTH     r0,r0
000064  f8ad0002          STRH     r0,[sp,#2]
;;;340    	    if (pObj->Widget.pEffect->EffectSize > 1) {
000068  6a20              LDR      r0,[r4,#0x20]
00006a  6940              LDR      r0,[r0,#0x14]
00006c  2801              CMP      r0,#1
00006e  dd3f              BLE      |L23.240|
;;;341    		    LCD_SetColor(GUI_WHITE);
000070  f06f407f          MVN      r0,#0xff000000
000074  f7fffffe          BL       LCD_SetColor
;;;342    		    GUI_DrawVLine(r.x0 - 1, r.y0, r.y0 + 1);
000078  f9bd3002          LDRSH    r3,[sp,#2]
00007c  1c5a              ADDS     r2,r3,#1
00007e  4619              MOV      r1,r3
000080  f9bd3000          LDRSH    r3,[sp,#0]
000084  1e58              SUBS     r0,r3,#1
000086  f7fffffe          BL       GUI_DrawVLine
;;;343    		    LCD_SetColor(0x555555);
00008a  482a              LDR      r0,|L23.308|
00008c  f7fffffe          BL       LCD_SetColor
;;;344    		    GUI_DrawVLine(r.x1 + 1, r.y0, r.y0 + 1);
000090  f9bd3002          LDRSH    r3,[sp,#2]
000094  1c5a              ADDS     r2,r3,#1
000096  4619              MOV      r1,r3
000098  f9bd3004          LDRSH    r3,[sp,#4]
00009c  1c58              ADDS     r0,r3,#1
00009e  f7fffffe          BL       GUI_DrawVLine
0000a2  e025              B        |L23.240|
                  |L23.164|
;;;345    	    }
;;;346        } else {
;;;347          r.y1 += pObj->Widget.pEffect->EffectSize + 1;
0000a4  f8bd1006          LDRH     r1,[sp,#6]
0000a8  6a20              LDR      r0,[r4,#0x20]
0000aa  8a80              LDRH     r0,[r0,#0x14]
0000ac  1c40              ADDS     r0,r0,#1
0000ae  4408              ADD      r0,r0,r1
0000b0  b200              SXTH     r0,r0
0000b2  f8ad0006          STRH     r0,[sp,#6]
;;;348    	    if (pObj->Widget.pEffect->EffectSize > 1) {
0000b6  6a20              LDR      r0,[r4,#0x20]
0000b8  6940              LDR      r0,[r0,#0x14]
0000ba  2801              CMP      r0,#1
0000bc  dd18              BLE      |L23.240|
;;;349    		    LCD_SetColor(GUI_WHITE);
0000be  f06f407f          MVN      r0,#0xff000000
0000c2  f7fffffe          BL       LCD_SetColor
;;;350    		    GUI_DrawVLine(r.x0 - 1, r.y1 - 2, r.y1 - 1);
0000c6  f9bd3006          LDRSH    r3,[sp,#6]
0000ca  1e5a              SUBS     r2,r3,#1
0000cc  1e99              SUBS     r1,r3,#2
0000ce  f9bd3000          LDRSH    r3,[sp,#0]
0000d2  1e58              SUBS     r0,r3,#1
0000d4  f7fffffe          BL       GUI_DrawVLine
;;;351    		    LCD_SetColor(0x555555);
0000d8  4816              LDR      r0,|L23.308|
0000da  f7fffffe          BL       LCD_SetColor
;;;352    		    GUI_DrawVLine(r.x1 + 1, r.y1 - 2, r.y1 - 1);
0000de  f9bd3006          LDRSH    r3,[sp,#6]
0000e2  1e5a              SUBS     r2,r3,#1
0000e4  1e99              SUBS     r1,r3,#2
0000e6  f9bd3004          LDRSH    r3,[sp,#4]
0000ea  1c58              ADDS     r0,r3,#1
0000ec  f7fffffe          BL       GUI_DrawVLine
                  |L23.240|
;;;353    	    }
;;;354        }
;;;355      }
;;;356      LCD_SetColor(pObj->aBkColor[ColorIndex]);
0000f0  f1040140          ADD      r1,r4,#0x40
0000f4  f8510026          LDR      r0,[r1,r6,LSL #2]
0000f8  f7fffffe          BL       LCD_SetColor
;;;357      WIDGET__FillRectEx(&pObj->Widget, &r);
0000fc  4669              MOV      r1,sp
0000fe  4620              MOV      r0,r4
000100  f7fffffe          BL       WIDGET__FillRectEx
;;;358      LCD_SetBkColor(pObj->aBkColor[ColorIndex]);
000104  f1040140          ADD      r1,r4,#0x40
000108  f8510026          LDR      r0,[r1,r6,LSL #2]
00010c  f7fffffe          BL       LCD_SetBkColor
;;;359      LCD_SetColor(pObj->aTextColor[ColorIndex]);
000110  f1040148          ADD      r1,r4,#0x48
000114  f8510026          LDR      r0,[r1,r6,LSL #2]
000118  f7fffffe          BL       LCD_SetColor
;;;360      GUI_DispStringAt(pText, r.x0 + 4, pRect->y0 + 3);
00011c  f9b50002          LDRSH    r0,[r5,#2]
000120  1cc2              ADDS     r2,r0,#3
000122  f9bd0000          LDRSH    r0,[sp,#0]
000126  1d01              ADDS     r1,r0,#4
000128  4638              MOV      r0,r7
00012a  f7fffffe          BL       GUI_DispStringAt
;;;361    }
00012e  e8bd87fc          POP      {r2-r10,pc}
;;;362    
                          ENDP

000132  0000              DCW      0x0000
                  |L23.308|
                          DCD      0x00555555

                          AREA ||i._GetEnable||, CODE, READONLY, ALIGN=1

                  _GetEnable PROC
;;;171    */
;;;172    static int _GetEnable(MULTIPAGE_Obj* pObj, unsigned Index) {
000000  e92d41f0          PUSH     {r4-r8,lr}
000004  4604              MOV      r4,r0
000006  460d              MOV      r5,r1
;;;173      int r = 0;
000008  2600              MOVS     r6,#0
;;;174      if ((int)Index < pObj->Handles.NumItems) {
00000a  8d60              LDRH     r0,[r4,#0x2a]
00000c  42a8              CMP      r0,r5
00000e  dd09              BLE      |L24.36|
;;;175        MULTIPAGE_PAGE* pPage;
;;;176        pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
000010  4629              MOV      r1,r5
000012  f104002a          ADD      r0,r4,#0x2a
000016  f7fffffe          BL       GUI_ARRAY_GetpItem
00001a  4607              MOV      r7,r0
;;;177        r = (pPage->Status & MULTIPAGE_STATE_ENABLED) ? 1 : 0;
00001c  78b8              LDRB     r0,[r7,#2]
00001e  f0000601          AND      r6,r0,#1
;;;178      }
000022  bf00              NOP      
                  |L24.36|
;;;179      return r;
000024  4630              MOV      r0,r6
;;;180    }
000026  e8bd81f0          POP      {r4-r8,pc}
;;;181    
                          ENDP


                          AREA ||i._GetPagePosX||, CODE, READONLY, ALIGN=1

                  _GetPagePosX PROC
;;;234    */
;;;235    static int _GetPagePosX(MULTIPAGE_Obj* pObj, unsigned Index) {
000000  e92d41f0          PUSH     {r4-r8,lr}
000004  4607              MOV      r7,r0
000006  460d              MOV      r5,r1
;;;236      unsigned i, r = 0;
000008  2600              MOVS     r6,#0
;;;237      for (i = 0; i < Index; i++) {
00000a  2400              MOVS     r4,#0
00000c  e005              B        |L25.26|
                  |L25.14|
;;;238        r += _GetPageSizeX(pObj, i);
00000e  4621              MOV      r1,r4
000010  4638              MOV      r0,r7
000012  f7fffffe          BL       _GetPageSizeX
000016  4406              ADD      r6,r6,r0
000018  1c64              ADDS     r4,r4,#1              ;237
                  |L25.26|
00001a  42ac              CMP      r4,r5                 ;237
00001c  d3f7              BCC      |L25.14|
;;;239      }
;;;240      return r;
00001e  4630              MOV      r0,r6
;;;241    }
000020  e8bd81f0          POP      {r4-r8,pc}
;;;242    
                          ENDP


                          AREA ||i._GetPageSizeX||, CODE, READONLY, ALIGN=1

                  _GetPageSizeX PROC
;;;217    */
;;;218    static int _GetPageSizeX(MULTIPAGE_Obj* pObj, unsigned Index) {
000000  e92d41f0          PUSH     {r4-r8,lr}
000004  4604              MOV      r4,r0
000006  460d              MOV      r5,r1
;;;219      int r = 0;
000008  2600              MOVS     r6,#0
;;;220      if ((int)Index < pObj->Handles.NumItems) {
00000a  8d60              LDRH     r0,[r4,#0x2a]
00000c  42a8              CMP      r0,r5
00000e  dd0e              BLE      |L26.46|
;;;221        MULTIPAGE_PAGE* pPage;
;;;222        GUI_SetFont(pObj->Font);
000010  6be0              LDR      r0,[r4,#0x3c]
000012  f7fffffe          BL       GUI_SetFont
;;;223        pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
000016  4629              MOV      r1,r5
000018  f104002a          ADD      r0,r4,#0x2a
00001c  f7fffffe          BL       GUI_ARRAY_GetpItem
000020  4607              MOV      r7,r0
;;;224        r = GUI_GetStringDistX(&pPage->acText) + 10;
000022  1cf8              ADDS     r0,r7,#3
000024  f7fffffe          BL       GUI_GetStringDistX
000028  f100060a          ADD      r6,r0,#0xa
;;;225      }
00002c  bf00              NOP      
                  |L26.46|
;;;226      return r;
00002e  4630              MOV      r0,r6
;;;227    }
000030  e8bd81f0          POP      {r4-r8,pc}
;;;228    
                          ENDP


                          AREA ||i._GetTextRect||, CODE, READONLY, ALIGN=1

                  _GetTextRect PROC
;;;256    */
;;;257    static void _GetTextRect(MULTIPAGE_Obj* pObj, GUI_RECT* pRect) {
000000  e92d41fc          PUSH     {r2-r8,lr}
000004  4605              MOV      r5,r0
000006  460c              MOV      r4,r1
;;;258      GUI_RECT rBorder;
;;;259      int Width, Height;
;;;260      Height = GUI_GetYSizeOfFont(pObj->Font) + 6;
000008  6be8              LDR      r0,[r5,#0x3c]
00000a  f7fffffe          BL       GUI_GetYSizeOfFont
00000e  1d87              ADDS     r7,r0,#6
;;;261      _CalcBorderRect(pObj, &rBorder);
000010  4669              MOV      r1,sp
000012  4628              MOV      r0,r5
000014  f7fffffe          BL       _CalcBorderRect
;;;262      /* Calculate Y-Position of text item */
;;;263      if (pObj->Align & MULTIPAGE_ALIGN_BOTTOM) {
000018  f8950038          LDRB     r0,[r5,#0x38]
00001c  f0100f04          TST      r0,#4
000020  d003              BEQ      |L27.42|
;;;264        pRect->y0 = rBorder.y1;
000022  f8bd0006          LDRH     r0,[sp,#6]
000026  8060              STRH     r0,[r4,#2]
000028  e001              B        |L27.46|
                  |L27.42|
;;;265      } else {
;;;266        pRect->y0 = 0;
00002a  2000              MOVS     r0,#0
00002c  8060              STRH     r0,[r4,#2]
                  |L27.46|
;;;267      }
;;;268      pRect->y1 = pRect->y0 + Height;
00002e  8860              LDRH     r0,[r4,#2]
000030  4438              ADD      r0,r0,r7
000032  b200              SXTH     r0,r0
000034  80e0              STRH     r0,[r4,#6]
;;;269      /* Calculate width of text items */
;;;270      if (pObj->Widget.State & MULTIPAGE_STATE_SCROLLMODE) {
000036  8ce8              LDRH     r0,[r5,#0x26]
000038  f4107f80          TST      r0,#0x100
00003c  d007              BEQ      |L27.78|
;;;271        Width = rBorder.x1 - ((Height * 3) >> 1) - 3;
00003e  f9bd0004          LDRSH    r0,[sp,#4]
000042  eb070147          ADD      r1,r7,r7,LSL #1
000046  eba00061          SUB      r0,r0,r1,ASR #1
00004a  1ec6              SUBS     r6,r0,#3
00004c  e003              B        |L27.86|
                  |L27.78|
;;;272      } else {
;;;273        Width = _GetTextWidth(pObj);
00004e  4628              MOV      r0,r5
000050  f7fffffe          BL       _GetTextWidth
000054  4606              MOV      r6,r0
                  |L27.86|
;;;274      }
;;;275      /* Calculate X-Position of text item */
;;;276      if (pObj->Align & MULTIPAGE_ALIGN_RIGHT) {
000056  f8950038          LDRB     r0,[r5,#0x38]
00005a  f0100f01          TST      r0,#1
00005e  d008              BEQ      |L27.114|
;;;277        pRect->x0 = rBorder.x1 - Width;
000060  f8bd0004          LDRH     r0,[sp,#4]
000064  1b80              SUBS     r0,r0,r6
000066  b200              SXTH     r0,r0
000068  8020              STRH     r0,[r4,#0]
;;;278        pRect->x1 = rBorder.x1;
00006a  f8bd0004          LDRH     r0,[sp,#4]
00006e  80a0              STRH     r0,[r4,#4]
000070  e003              B        |L27.122|
                  |L27.114|
;;;279      } else {
;;;280        pRect->x0 = 0;
000072  2000              MOVS     r0,#0
000074  8020              STRH     r0,[r4,#0]
;;;281        pRect->x1 = Width;
000076  b230              SXTH     r0,r6
000078  80a0              STRH     r0,[r4,#4]
                  |L27.122|
;;;282      }
;;;283    }
00007a  e8bd81fc          POP      {r2-r8,pc}
;;;284    
                          ENDP


                          AREA ||i._GetTextWidth||, CODE, READONLY, ALIGN=1

                  _GetTextWidth PROC
;;;248    */
;;;249    static int _GetTextWidth(MULTIPAGE_Obj* pObj) {
000000  b510              PUSH     {r4,lr}
000002  4604              MOV      r4,r0
;;;250      return _GetPagePosX(pObj, pObj->Handles.NumItems);
000004  8d61              LDRH     r1,[r4,#0x2a]
000006  4620              MOV      r0,r4
000008  f7fffffe          BL       _GetPagePosX
;;;251    }
00000c  bd10              POP      {r4,pc}
;;;252    
                          ENDP


                          AREA ||i._MoveSel||, CODE, READONLY, ALIGN=1

                  _MoveSel PROC
;;;482    */
;;;483    static void _MoveSel(MULTIPAGE_Handle hObj, MULTIPAGE_Obj * pObj, int Dir) {
000000  e92d5ff0          PUSH     {r4-r12,lr}
000004  4683              MOV      r11,r0
000006  460c              MOV      r4,r1
000008  4616              MOV      r6,r2
;;;484      int Sel, NewSel, ScrollPos, NumItems;
;;;485      SCROLLBAR_Handle hScroll;
;;;486      hScroll  = WM_GetScrollbarH(hObj);
00000a  4658              MOV      r0,r11
00000c  f7fffffe          BL       WM_GetScrollbarH
000010  4682              MOV      r10,r0
;;;487      NewSel   = ScrollPos = -1;
000012  f04f30ff          MOV      r0,#0xffffffff
000016  4680              MOV      r8,r0
000018  4607              MOV      r7,r0
;;;488      NumItems = pObj->Handles.NumItems;
00001a  f8b4902a          LDRH     r9,[r4,#0x2a]
;;;489      for (Sel = pObj->Selection + Dir; (Sel >= 0) && (Sel < NumItems) && (NewSel == -1); Sel += Dir) {
00001e  6b20              LDR      r0,[r4,#0x30]
000020  1985              ADDS     r5,r0,r6
000022  e006              B        |L29.50|
                  |L29.36|
;;;490        if (_GetEnable(pObj, Sel)) {
000024  4629              MOV      r1,r5
000026  4620              MOV      r0,r4
000028  f7fffffe          BL       _GetEnable
00002c  b100              CBZ      r0,|L29.48|
;;;491          NewSel = Sel;
00002e  462f              MOV      r7,r5
                  |L29.48|
000030  4435              ADD      r5,r5,r6              ;489
                  |L29.50|
000032  2d00              CMP      r5,#0                 ;489
000034  db03              BLT      |L29.62|
000036  454d              CMP      r5,r9                 ;489
000038  da01              BGE      |L29.62|
00003a  1c78              ADDS     r0,r7,#1              ;489
00003c  d0f2              BEQ      |L29.36|
                  |L29.62|
;;;492        }
;;;493      }
;;;494      if (NewSel >= 0) {
00003e  2f00              CMP      r7,#0
000040  db05              BLT      |L29.78|
;;;495        MULTIPAGE_SelectPage(hObj, NewSel);
000042  4639              MOV      r1,r7
000044  4658              MOV      r0,r11
000046  f7fffffe          BL       MULTIPAGE_SelectPage
;;;496        ScrollPos = NewSel;
00004a  46b8              MOV      r8,r7
00004c  e002              B        |L29.84|
                  |L29.78|
;;;497      } else {
;;;498        ScrollPos = pObj->ScrollState + Dir;
00004e  6b60              LDR      r0,[r4,#0x34]
000050  eb000806          ADD      r8,r0,r6
                  |L29.84|
;;;499      }
;;;500      if (hScroll) {
000054  f1ba0f00          CMP      r10,#0
000058  d008              BEQ      |L29.108|
;;;501        if ((ScrollPos >= 0) && (ScrollPos < NumItems)) {
00005a  f1b80f00          CMP      r8,#0
00005e  db05              BLT      |L29.108|
000060  45c8              CMP      r8,r9
000062  da03              BGE      |L29.108|
;;;502          SCROLLBAR_SetValue(hScroll, ScrollPos);
000064  4641              MOV      r1,r8
000066  4650              MOV      r0,r10
000068  f7fffffe          BL       SCROLLBAR_SetValue
                  |L29.108|
;;;503        }
;;;504      }
;;;505    }
00006c  e8bd9ff0          POP      {r4-r12,pc}
;;;506    
                          ENDP


                          AREA ||i._OnTouch||, CODE, READONLY, ALIGN=1

                  _OnTouch PROC
;;;438    */
;;;439    static void _OnTouch(MULTIPAGE_Handle hObj, MULTIPAGE_Obj* pObj, WM_MESSAGE*pMsg) {
000000  e92d4ff7          PUSH     {r0-r2,r4-r11,lr}
000004  4682              MOV      r10,r0
000006  4615              MOV      r5,r2
;;;440      GUI_PID_STATE* pState;
;;;441      int Notification;
;;;442      if (pMsg->Data.p) {  /* Something happened in our area (pressed or released) */
000008  68a8              LDR      r0,[r5,#8]
00000a  2800              CMP      r0,#0
00000c  d03a              BEQ      |L30.132|
;;;443        pState = (GUI_PID_STATE*)pMsg->Data.p;
00000e  68ac              LDR      r4,[r5,#8]
;;;444        if (pState->Pressed) {
000010  7a20              LDRB     r0,[r4,#8]
000012  2800              CMP      r0,#0
000014  d034              BEQ      |L30.128|
;;;445          int x = pState->x;
000016  6827              LDR      r7,[r4,#0]
;;;446          int y = pState->y;
000018  f8d48004          LDR      r8,[r4,#4]
;;;447          if (!_ClickedOnMultipage(hObj, pObj, x, y)) {
00001c  4643              MOV      r3,r8
00001e  463a              MOV      r2,r7
000020  4650              MOV      r0,r10
000022  9901              LDR      r1,[sp,#4]
000024  f7fffffe          BL       _ClickedOnMultipage
000028  bb28              CBNZ     r0,|L30.118|
;;;448            WM_HWIN hBelow;
;;;449            x += WM_GetWindowOrgX(hObj);
00002a  4650              MOV      r0,r10
00002c  f7fffffe          BL       WM_GetWindowOrgX
000030  4407              ADD      r7,r7,r0
;;;450            y += WM_GetWindowOrgY(hObj);
000032  4650              MOV      r0,r10
000034  f7fffffe          BL       WM_GetWindowOrgY
000038  4480              ADD      r8,r8,r0
;;;451            hBelow = WM_Screen2hWinEx(hObj, x, y);
00003a  4642              MOV      r2,r8
00003c  4639              MOV      r1,r7
00003e  4650              MOV      r0,r10
000040  f7fffffe          BL       WM_Screen2hWinEx
000044  4681              MOV      r9,r0
;;;452            if (hBelow) {
000046  f1b90f00          CMP      r9,#0
00004a  d013              BEQ      |L30.116|
;;;453              pState->x = x - WM_GetWindowOrgX(hBelow);
00004c  4648              MOV      r0,r9
00004e  f7fffffe          BL       WM_GetWindowOrgX
000052  1a38              SUBS     r0,r7,r0
000054  6020              STR      r0,[r4,#0]
;;;454              pState->y = y - WM_GetWindowOrgY(hBelow);
000056  4648              MOV      r0,r9
000058  f7fffffe          BL       WM_GetWindowOrgY
00005c  eba80000          SUB      r0,r8,r0
000060  6060              STR      r0,[r4,#4]
;;;455              pMsg->hWin = hBelow;
000062  f8a59004          STRH     r9,[r5,#4]
;;;456              (*WM_H2P(hBelow)->cb)(pMsg);
000066  4648              MOV      r0,r9
000068  f7fffffe          BL       GUI_ALLOC_h2p
00006c  f8d0b010          LDR      r11,[r0,#0x10]
000070  4628              MOV      r0,r5
000072  47d8              BLX      r11
                  |L30.116|
;;;457            }
;;;458          } else {
000074  e002              B        |L30.124|
                  |L30.118|
;;;459            WM_BringToTop(hObj);
000076  4650              MOV      r0,r10
000078  f7fffffe          BL       WM_BringToTop
                  |L30.124|
;;;460          }
;;;461          Notification = WM_NOTIFICATION_CLICKED;
00007c  2601              MOVS     r6,#1
;;;462        } else {
00007e  e002              B        |L30.134|
                  |L30.128|
;;;463          Notification = WM_NOTIFICATION_RELEASED;
000080  2602              MOVS     r6,#2
000082  e000              B        |L30.134|
                  |L30.132|
;;;464        }
;;;465      } else {
;;;466        Notification = WM_NOTIFICATION_MOVED_OUT;
000084  2603              MOVS     r6,#3
                  |L30.134|
;;;467      }
;;;468      WM_NotifyParent(hObj, Notification);
000086  4631              MOV      r1,r6
000088  4650              MOV      r0,r10
00008a  f7fffffe          BL       WM_NotifyParent
;;;469    }
00008e  e8bd8ffe          POP      {r1-r11,pc}
;;;470    
                          ENDP


                          AREA ||i._Paint||, CODE, READONLY, ALIGN=1

                  _Paint PROC
;;;372    */
;;;373    static void _Paint(MULTIPAGE_Obj* pObj) {
000000  e92d41f0          PUSH     {r4-r8,lr}
000004  b08a              SUB      sp,sp,#0x28
000006  4604              MOV      r4,r0
;;;374      GUI_RECT rBorder;
;;;375      /* Draw border of multipage */
;;;376      _CalcBorderRect(pObj, &rBorder);
000008  a908              ADD      r1,sp,#0x20
00000a  4620              MOV      r0,r4
00000c  f7fffffe          BL       _CalcBorderRect
;;;377      WIDGET__EFFECT_DrawUpRect(&pObj->Widget, &rBorder);
000010  a908              ADD      r1,sp,#0x20
000012  4620              MOV      r0,r4
000014  f7fffffe          BL       WIDGET__EFFECT_DrawUpRect
;;;378      /* Draw text items */
;;;379      if (pObj->Handles.NumItems > 0) {
000018  8d60              LDRH     r0,[r4,#0x2a]
00001a  2800              CMP      r0,#0
00001c  dd53              BLE      |L31.198|
;;;380        MULTIPAGE_PAGE* pPage;
;;;381        GUI_RECT rText, rClip;
;;;382        int i, w = 0, x0 = 0;
00001e  2700              MOVS     r7,#0
000020  46b8              MOV      r8,r7
;;;383        if (pObj->Widget.State & MULTIPAGE_STATE_SCROLLMODE) {
000022  8ce0              LDRH     r0,[r4,#0x26]
000024  f4107f80          TST      r0,#0x100
000028  d011              BEQ      |L31.78|
;;;384          if (pObj->Align & MULTIPAGE_ALIGN_RIGHT) {
00002a  f8940038          LDRB     r0,[r4,#0x38]
00002e  f0100f01          TST      r0,#1
000032  d006              BEQ      |L31.66|
;;;385            x0 = -_GetPagePosX(pObj, pObj->ScrollState);
000034  4620              MOV      r0,r4
000036  6b61              LDR      r1,[r4,#0x34]
000038  f7fffffe          BL       _GetPagePosX
00003c  f1c00800          RSB      r8,r0,#0
000040  e005              B        |L31.78|
                  |L31.66|
;;;386          } else {
;;;387            x0 = -_GetPagePosX(pObj, pObj->ScrollState);
000042  4620              MOV      r0,r4
000044  6b61              LDR      r1,[r4,#0x34]
000046  f7fffffe          BL       _GetPagePosX
00004a  f1c00800          RSB      r8,r0,#0
                  |L31.78|
;;;388          }
;;;389        }
;;;390        _GetTextRect(pObj, &rText);
00004e  a906              ADD      r1,sp,#0x18
000050  4620              MOV      r0,r4
000052  f7fffffe          BL       _GetTextRect
;;;391        rClip = rText;
000056  e9dd0106          LDRD     r0,r1,[sp,#0x18]
00005a  e9cd0104          STRD     r0,r1,[sp,#0x10]
;;;392        rClip.y0 = rText.y0 - 1;
00005e  f8bd001a          LDRH     r0,[sp,#0x1a]
000062  1e40              SUBS     r0,r0,#1
000064  b200              SXTH     r0,r0
000066  f8ad0012          STRH     r0,[sp,#0x12]
;;;393        rClip.y1 = rText.y1 + 1;
00006a  f8bd001e          LDRH     r0,[sp,#0x1e]
00006e  1c40              ADDS     r0,r0,#1
000070  b200              SXTH     r0,r0
000072  f8ad0016          STRH     r0,[sp,#0x16]
;;;394        WM_SetUserClipRect(&rClip);
000076  a804              ADD      r0,sp,#0x10
000078  f7fffffe          BL       WM_SetUserClipRect
;;;395        GUI_SetFont(pObj->Font);
00007c  6be0              LDR      r0,[r4,#0x3c]
00007e  f7fffffe          BL       GUI_SetFont
;;;396        for (i = 0; i < pObj->Handles.NumItems; i++) {
000082  2500              MOVS     r5,#0
000084  e018              B        |L31.184|
                  |L31.134|
;;;397          pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, i);
000086  4629              MOV      r1,r5
000088  f104002a          ADD      r0,r4,#0x2a
00008c  f7fffffe          BL       GUI_ARRAY_GetpItem
000090  4606              MOV      r6,r0
;;;398          x0 += w;
000092  44b8              ADD      r8,r8,r7
;;;399          w   = GUI_GetStringDistX(&pPage->acText) + 10;
000094  1cf0              ADDS     r0,r6,#3
000096  f7fffffe          BL       GUI_GetStringDistX
00009a  f100070a          ADD      r7,r0,#0xa
;;;400          _DrawTextItem(pObj, &pPage->acText, i, &rText, x0, w, (pPage->Status & MULTIPAGE_STATE_ENABLED) ? 1 : 0);
00009e  78b0              LDRB     r0,[r6,#2]
0000a0  f0000001          AND      r0,r0,#1
0000a4  ab06              ADD      r3,sp,#0x18
0000a6  462a              MOV      r2,r5
0000a8  1cf1              ADDS     r1,r6,#3
0000aa  e9cd8700          STRD     r8,r7,[sp,#0]
0000ae  9002              STR      r0,[sp,#8]
0000b0  4620              MOV      r0,r4
0000b2  f7fffffe          BL       _DrawTextItem
0000b6  1c6d              ADDS     r5,r5,#1              ;396
                  |L31.184|
0000b8  8d60              LDRH     r0,[r4,#0x2a]         ;396
0000ba  42a8              CMP      r0,r5                 ;396
0000bc  dce3              BGT      |L31.134|
;;;401        }    
;;;402        WM_SetUserClipRect(NULL);
0000be  2000              MOVS     r0,#0
0000c0  f7fffffe          BL       WM_SetUserClipRect
;;;403      }
0000c4  bf00              NOP      
                  |L31.198|
;;;404    }
0000c6  b00a              ADD      sp,sp,#0x28
0000c8  e8bd81f0          POP      {r4-r8,pc}
;;;405    
                          ENDP


                          AREA ||i._SetEnable||, CODE, READONLY, ALIGN=1

                  _SetEnable PROC
;;;155    */
;;;156    static void _SetEnable(MULTIPAGE_Obj* pObj, unsigned Index, int State) {
000000  e92d41f0          PUSH     {r4-r8,lr}
000004  4605              MOV      r5,r0
000006  460e              MOV      r6,r1
000008  4617              MOV      r7,r2
;;;157      if ((int)Index < pObj->Handles.NumItems) {
00000a  8d68              LDRH     r0,[r5,#0x2a]
00000c  42b0              CMP      r0,r6
00000e  dd10              BLE      |L32.50|
;;;158        MULTIPAGE_PAGE* pPage;
;;;159        pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
000010  4631              MOV      r1,r6
000012  f105002a          ADD      r0,r5,#0x2a
000016  f7fffffe          BL       GUI_ARRAY_GetpItem
00001a  4604              MOV      r4,r0
;;;160        if (State) {
00001c  b127              CBZ      r7,|L32.40|
;;;161          pPage->Status |= MULTIPAGE_STATE_ENABLED;
00001e  78a0              LDRB     r0,[r4,#2]
000020  f0400001          ORR      r0,r0,#1
000024  70a0              STRB     r0,[r4,#2]
000026  e003              B        |L32.48|
                  |L32.40|
;;;162        } else {
;;;163          pPage->Status &= ~MULTIPAGE_STATE_ENABLED;
000028  78a0              LDRB     r0,[r4,#2]
00002a  f0200001          BIC      r0,r0,#1
00002e  70a0              STRB     r0,[r4,#2]
                  |L32.48|
;;;164        }
;;;165      }
000030  bf00              NOP      
                  |L32.50|
;;;166    }
000032  e8bd81f0          POP      {r4-r8,pc}
;;;167    
                          ENDP


                          AREA ||i._SetScrollbar||, CODE, READONLY, ALIGN=1

                  _SetScrollbar PROC
;;;106    */
;;;107    static void _SetScrollbar(MULTIPAGE_Handle hObj, MULTIPAGE_Obj* pObj, int NumItems) {
000000  e92d41f0          PUSH     {r4-r8,lr}
000004  4606              MOV      r6,r0
000006  460c              MOV      r4,r1
000008  4615              MOV      r5,r2
;;;108      SCROLLBAR_Handle hScroll;
;;;109      hScroll = WM_GetScrollbarH(hObj);
00000a  4630              MOV      r0,r6
00000c  f7fffffe          BL       WM_GetScrollbarH
000010  4607              MOV      r7,r0
;;;110      SCROLLBAR_SetNumItems(hScroll, NumItems);
000012  4629              MOV      r1,r5
000014  4638              MOV      r0,r7
000016  f7fffffe          BL       SCROLLBAR_SetNumItems
;;;111      SCROLLBAR_SetPageSize(hScroll, 1);
00001a  2101              MOVS     r1,#1
00001c  4638              MOV      r0,r7
00001e  f7fffffe          BL       SCROLLBAR_SetPageSize
;;;112      if (pObj->ScrollState >= NumItems) {
000022  6b60              LDR      r0,[r4,#0x34]
000024  42a8              CMP      r0,r5
000026  db01              BLT      |L33.44|
;;;113        pObj->ScrollState = 0;
000028  2000              MOVS     r0,#0
00002a  6360              STR      r0,[r4,#0x34]
                  |L33.44|
;;;114      }
;;;115      SCROLLBAR_SetValue(hScroll, pObj->ScrollState);
00002c  4638              MOV      r0,r7
00002e  6b61              LDR      r1,[r4,#0x34]
000030  f7fffffe          BL       SCROLLBAR_SetValue
;;;116    }
000034  e8bd81f0          POP      {r4-r8,pc}
;;;117    
                          ENDP


                          AREA ||i._ShowPage||, CODE, READONLY, ALIGN=1

                  _ShowPage PROC
;;;130    */
;;;131    static void _ShowPage(MULTIPAGE_Obj* pObj, unsigned Index) {
000000  e92d47f0          PUSH     {r4-r10,lr}
000004  4604              MOV      r4,r0
000006  460f              MOV      r7,r1
;;;132      WM_HWIN hWin = 0;
000008  f04f0800          MOV      r8,#0
;;;133      WM_HWIN hChild;
;;;134      WM_Obj* pChild;
;;;135      WM_Obj* pClient = WM_H2P(pObj->hClient);
00000c  f9b40028          LDRSH    r0,[r4,#0x28]
000010  f7fffffe          BL       GUI_ALLOC_h2p
000014  4681              MOV      r9,r0
;;;136      if ((int)Index < pObj->Handles.NumItems) {
000016  8d60              LDRH     r0,[r4,#0x2a]
000018  42b8              CMP      r0,r7
00001a  dd08              BLE      |L34.46|
;;;137        MULTIPAGE_PAGE* pPage;
;;;138        pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
00001c  4639              MOV      r1,r7
00001e  f104002a          ADD      r0,r4,#0x2a
000022  f7fffffe          BL       GUI_ARRAY_GetpItem
000026  4682              MOV      r10,r0
;;;139        hWin = pPage->hWin;
000028  f9ba8000          LDRSH    r8,[r10,#0]
;;;140      }
00002c  bf00              NOP      
                  |L34.46|
;;;141      for (hChild = pClient->hFirstChild; hChild; hChild = pChild->hNext) {
00002e  f9b95018          LDRSH    r5,[r9,#0x18]
000032  e011              B        |L34.88|
                  |L34.52|
;;;142        pChild = WM_H2P(hChild);
000034  4628              MOV      r0,r5
000036  f7fffffe          BL       GUI_ALLOC_h2p
00003a  4606              MOV      r6,r0
;;;143        if (hChild == hWin) {
00003c  4545              CMP      r5,r8
00003e  d106              BNE      |L34.78|
;;;144          WM_ShowWindow(hChild);
000040  4628              MOV      r0,r5
000042  f7fffffe          BL       WM_ShowWindow
;;;145          WM_SetFocus(hChild);
000046  4628              MOV      r0,r5
000048  f7fffffe          BL       WM_SetFocus
00004c  e002              B        |L34.84|
                  |L34.78|
;;;146        } else {
;;;147          WM_HideWindow(hChild);
00004e  4628              MOV      r0,r5
000050  f7fffffe          BL       WM_HideWindow
                  |L34.84|
000054  f9b6501a          LDRSH    r5,[r6,#0x1a]         ;141
                  |L34.88|
000058  2d00              CMP      r5,#0                 ;141
00005a  d1eb              BNE      |L34.52|
;;;148        }
;;;149      }
;;;150    }
00005c  e8bd87f0          POP      {r4-r10,pc}
;;;151    
                          ENDP


                          AREA ||i._UpdatePositions||, CODE, READONLY, ALIGN=1

                  _UpdatePositions PROC
;;;288    */
;;;289    static void _UpdatePositions(MULTIPAGE_Handle hObj, MULTIPAGE_Obj* pObj) {
000000  e92d47f0          PUSH     {r4-r10,lr}
000004  b086              SUB      sp,sp,#0x18
000006  4680              MOV      r8,r0
000008  460c              MOV      r4,r1
;;;290      GUI_RECT rBorder;
;;;291      int Width;
;;;292      Width = _GetTextWidth(pObj);
00000a  4620              MOV      r0,r4
00000c  f7fffffe          BL       _GetTextWidth
000010  4606              MOV      r6,r0
;;;293      _CalcBorderRect(pObj, &rBorder);
000012  a904              ADD      r1,sp,#0x10
000014  4620              MOV      r0,r4
000016  f7fffffe          BL       _CalcBorderRect
;;;294      /* Set scrollmode according to the text width */
;;;295      if (Width > rBorder.x1) {
00001a  f9bd0014          LDRSH    r0,[sp,#0x14]
00001e  42b0              CMP      r0,r6
000020  da4f              BGE      |L35.194|
;;;296        GUI_RECT rText;
;;;297        int Size, x0, y0, NumItems = 0;
000022  2700              MOVS     r7,#0
;;;298        Size   = ((GUI_GetYSizeOfFont(pObj->Font) + 6) * 3) >> 2;
000024  6be0              LDR      r0,[r4,#0x3c]
000026  f7fffffe          BL       GUI_GetYSizeOfFont
00002a  1d80              ADDS     r0,r0,#6
00002c  eb000040          ADD      r0,r0,r0,LSL #1
000030  1085              ASRS     r5,r0,#2
;;;299        x0     = (pObj->Align & MULTIPAGE_ALIGN_RIGHT)  ? (rBorder.x0) : (rBorder.x1 - 2*Size + 1);
000032  f8940038          LDRB     r0,[r4,#0x38]
000036  f0100f01          TST      r0,#1
00003a  d002              BEQ      |L35.66|
00003c  f9bd0010          LDRSH    r0,[sp,#0x10]
000040  e005              B        |L35.78|
                  |L35.66|
000042  f9bd0014          LDRSH    r0,[sp,#0x14]
000046  2102              MOVS     r1,#2
000048  fb010015          MLS      r0,r1,r5,r0
00004c  1c40              ADDS     r0,r0,#1
                  |L35.78|
00004e  4681              MOV      r9,r0
;;;300        y0     = (pObj->Align & MULTIPAGE_ALIGN_BOTTOM) ? (rBorder.y1) : (rBorder.y0 -   Size + 1);
000050  f8940038          LDRB     r0,[r4,#0x38]
000054  f0100f04          TST      r0,#4
000058  d002              BEQ      |L35.96|
00005a  f9bd0016          LDRSH    r0,[sp,#0x16]
00005e  e003              B        |L35.104|
                  |L35.96|
000060  f9bd0012          LDRSH    r0,[sp,#0x12]
000064  1b40              SUBS     r0,r0,r5
000066  1c40              ADDS     r0,r0,#1
                  |L35.104|
000068  4682              MOV      r10,r0
;;;301        /* A scrollbar is required so we add one to the multipage */
;;;302        _AddScrollbar(hObj, pObj, x0, y0, 2 * Size, Size);
00006a  0068              LSLS     r0,r5,#1
00006c  4653              MOV      r3,r10
00006e  464a              MOV      r2,r9
000070  4621              MOV      r1,r4
000072  e9cd0500          STRD     r0,r5,[sp,#0]
000076  4640              MOV      r0,r8
000078  f7fffffe          BL       _AddScrollbar
;;;303        _GetTextRect(pObj, &rText);
00007c  a902              ADD      r1,sp,#8
00007e  4620              MOV      r0,r4
000080  f7fffffe          BL       _GetTextRect
;;;304        while (Width >= MAX((rText.x1 - rText.x0 + 1), 1)) {
000084  e005              B        |L35.146|
                  |L35.134|
;;;305          Width -= _GetPageSizeX(pObj, NumItems++);
000086  4639              MOV      r1,r7
000088  1c7f              ADDS     r7,r7,#1
00008a  4620              MOV      r0,r4
00008c  f7fffffe          BL       _GetPageSizeX
000090  1a36              SUBS     r6,r6,r0
                  |L35.146|
000092  f9bd000c          LDRSH    r0,[sp,#0xc]          ;304
000096  f9bd1008          LDRSH    r1,[sp,#8]            ;304
00009a  1a40              SUBS     r0,r0,r1              ;304
00009c  1c40              ADDS     r0,r0,#1              ;304
00009e  2801              CMP      r0,#1                 ;304
0000a0  dd06              BLE      |L35.176|
0000a2  f9bd000c          LDRSH    r0,[sp,#0xc]          ;304
0000a6  f9bd1008          LDRSH    r1,[sp,#8]            ;304
0000aa  1a40              SUBS     r0,r0,r1              ;304
0000ac  1c40              ADDS     r0,r0,#1              ;304
0000ae  e000              B        |L35.178|
                  |L35.176|
0000b0  2001              MOVS     r0,#1                 ;304
                  |L35.178|
0000b2  42b0              CMP      r0,r6                 ;304
0000b4  dde7              BLE      |L35.134|
;;;306        }
;;;307        _SetScrollbar(hObj, pObj, NumItems + 1);
0000b6  1c7a              ADDS     r2,r7,#1
0000b8  4621              MOV      r1,r4
0000ba  4640              MOV      r0,r8
0000bc  f7fffffe          BL       _SetScrollbar
;;;308      } else {
0000c0  e003              B        |L35.202|
                  |L35.194|
;;;309        /* Scrollbar is no longer required. We delete it if there was one */
;;;310        _DeleteScrollbar(hObj, pObj);
0000c2  4621              MOV      r1,r4
0000c4  4640              MOV      r0,r8
0000c6  f7fffffe          BL       _DeleteScrollbar
                  |L35.202|
;;;311      }
;;;312      /* Move and resize the client area to the updated positions */
;;;313      _CalcClientRect(pObj, &rBorder);
0000ca  a904              ADD      r1,sp,#0x10
0000cc  4620              MOV      r0,r4
0000ce  f7fffffe          BL       _CalcClientRect
;;;314      WM_MoveChildTo(pObj->hClient, rBorder.x0, rBorder.y0);
0000d2  f9bd2012          LDRSH    r2,[sp,#0x12]
0000d6  f9bd1010          LDRSH    r1,[sp,#0x10]
0000da  f9b40028          LDRSH    r0,[r4,#0x28]
0000de  f7fffffe          BL       WM_MoveChildTo
;;;315      WM_SetSize(pObj->hClient, rBorder.x1 - rBorder.x0 + 1, rBorder.y1 - rBorder.y0 + 1);
0000e2  f9bd3016          LDRSH    r3,[sp,#0x16]
0000e6  f9bd5012          LDRSH    r5,[sp,#0x12]
0000ea  1b5b              SUBS     r3,r3,r5
0000ec  1c5a              ADDS     r2,r3,#1
0000ee  f9bd3014          LDRSH    r3,[sp,#0x14]
0000f2  f9bd5010          LDRSH    r5,[sp,#0x10]
0000f6  1b5b              SUBS     r3,r3,r5
0000f8  1c59              ADDS     r1,r3,#1
0000fa  f9b40028          LDRSH    r0,[r4,#0x28]
0000fe  f7fffffe          BL       WM_SetSize
;;;316      WM_InvalidateWindow(hObj);
000102  4640              MOV      r0,r8
000104  f7fffffe          BL       WM_InvalidateWindow
;;;317    }
000108  b006              ADD      sp,sp,#0x18
00010a  e8bd87f0          POP      {r4-r10,pc}
;;;318    
                          ENDP


                          AREA ||.data||, DATA, ALIGN=2

                  MULTIPAGE__pDefaultFont
                          DCD      GUI_Font13_1
                  MULTIPAGE__DefaultAlign
                          DCD      0x00000000
                  MULTIPAGE__DefaultBkColor
                          DCD      0x00d0d0d0
                          DCD      0x00c0c0c0
                  MULTIPAGE__DefaultTextColor
                          DCD      0x00808080
                          DCD      0x00000000
